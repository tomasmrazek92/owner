{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/profit-margin-calc.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "// import tippy from 'tippy.js';\n// import 'tippy.js/dist/tippy.css';\n\n// import './scss/profit-margin-calc.scss';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  // does this page have the calculator?\n  let calc = document.querySelector('#profit-margin-calculator');\n\n  if (!calc) {\n    return;\n  }\n\n  // move form above the key takeaways\n  let mainWrap = document.querySelector('.blog-content_wrap-inner');\n  mainWrap.insertAdjacentElement('afterbegin', calc);\n\n  let formInputs = document.querySelectorAll('#profit-margin-calculator input');\n\n  // check each input as the user types.\n  Array.from(formInputs).forEach((input) => {\n    input.addEventListener('input', (event) => {\n      formatCommas(event);\n    });\n  });\n\n  let calcBtn = document.querySelector('#btn--calculate');\n  calcBtn.addEventListener('click', (e) => {\n    e.preventDefault();\n\n    // if the form is not valid, return early\n    let myForm = e.target.closest('form:invalid');\n    if (myForm) {\n      return;\n    }\n\n    // form is valid, proceed\n    // get inputs\n    let totalRevenue =\n      parseFloat(document.querySelector('#total-revenue').value.replaceAll(',', '')) || 0;\n    let cogs = parseFloat(document.querySelector('#cogs').value.replaceAll(',', '')) || 0;\n    let operatingCosts =\n      parseFloat(document.querySelector('#operating-costs').value.replaceAll(',', '')) || 0;\n\n    let grossProfit = roundOff(((totalRevenue - cogs) / totalRevenue) * 100, 2);\n    let netProfit = roundOff(((totalRevenue - operatingCosts) / totalRevenue) * 100, 2);\n\n    // render the output values\n    document.querySelector('#output--gross-profit').innerText = `${grossProfit}%`;\n    document.querySelector('#output--net-profit').innerText = `${netProfit}%`;\n\n    // determine industry comparison\n    let industry = document.querySelector('#restaurant-type').value;\n    let low, high;\n\n    switch (industry) {\n      case 'cafe':\n        low = 10;\n        high = 15;\n        break;\n\n      case 'casual-dining':\n        low = 3;\n        high = 9;\n        break;\n\n      case 'fast-casual':\n        low = 2;\n        high = 6;\n        break;\n\n      case 'fast-food':\n        low = 2;\n        high = 6;\n        break;\n\n      case 'fine-dining':\n        low = 10;\n        high = 15;\n        break;\n\n      case 'pizzeria':\n        low = 15;\n        high = 15;\n        break;\n\n      default:\n        low = 1;\n        high = 15;\n        break;\n    }\n\n    let conjunction = 'within';\n    let resultColor = 'off-black';\n\n    if (netProfit < low) {\n      conjunction = 'lower than';\n      resultColor = 'red';\n    } else if (netProfit > high) {\n      conjunction = 'higher than';\n      resultColor = 'green';\n    }\n\n    let message = `Your net profit margin is <strong style=\"color: var(--${resultColor})\">${conjunction}</strong> the industry average of ${low}%-${high}%`;\n    document.querySelector('#output--message').innerHTML = message;\n    document.querySelector('#output--message').classList.remove('hide');\n  });\n\n  let resetBtn = document.querySelector('#btn--reset');\n  resetBtn.addEventListener('click', (e) => {\n    e.preventDefault();\n\n    // clear input values\n    document.querySelector('#total-revenue').value = '';\n    document.querySelector('#cogs').value = '';\n    document.querySelector('#operating-costs').value = '';\n\n    // clear output values\n    document.querySelector('#output--gross-profit').innerText = `0%`;\n    document.querySelector('#output--net-profit').innerText = `0%`;\n\n    // scroll to the top of the calc\n    document\n      .querySelector('#profit-margin-calculator')\n      .scrollIntoView({ behavior: 'smooth', block: 'start' });\n  });\n\n  /*************************************************************************/\n  /**\n   * Format currency inputs as the user types\n   * @param {e} event\n   */\n  function formatCommas(event) {\n    if (event.target.value.includes('-')) {\n      event.target.value = event.target.value.replace('-', '');\n    }\n    let temp = event.target.value.replace(/[^0-9-.]/g, '');\n    temp = parseFloat(temp).toLocaleString('en-US');\n    event.target.value = temp.replace(' ', '');\n\n    if (event.target.value === 'NaN') {\n      event.target.value = '';\n    }\n  }\n\n  function roundOff(num, places) {\n    const x = Math.pow(10, places);\n    return Math.round(num * x) / x;\n  }\n\n  // tooltip constructor\n  tippy('[data-tippy-content]', {\n    appendTo: 'parent',\n    arrow: false,\n\n    // useful for debugging and styling\n    // hideOnClick: false,\n    // trigger: 'click',\n  });\n});\n"],
  "mappings": "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",
  "names": []
}
