"use strict";(()=>{var A=(o,e,s)=>{let i=$(o).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(o).closest(".form-field, [form-field]").toggleClass("error",e),i.toggle(e),s&&i.text(s)};var C=(o,e,s,i)=>{let l=".swiper_arrow",a=".swiper-navigation";$(o).each(function(){let c=$(this).index(),n=`${s}_${c}`;$(this).find(e).addClass(n),$(this).find(l).addClass(n),$(this).find(a).addClass(n);let d=Object.assign({},i,{speed:750,threshold:20,navigation:{prevEl:`${l}.prev.${n}`,nextEl:`${l}.next.${n}`},pagination:{el:`${a}.${n}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot",clickable:!0}}),u=i&&i.autoplay;if(u){let m={...i.autoplay};delete d.autoplay}for(let m in i)m in d&&m!=="autoplay"&&(d[m]=i[m]);let g=new Swiper(`${e}.${n}`,d);if(u){let m=$(this).find(`${e}.${n}`)[0];new IntersectionObserver(S=>{S.forEach(b=>{b.isIntersecting?(g.params.autoplay=i.autoplay,g.autoplay.start()):g.autoplay.stop()})},{threshold:.1}).observe(m)}swipers[s]=swipers[s]||{},swipers[s][c]=g})};var I=$(document.body),P=0;function R(){var o=I.innerWidth();P=window.pageYOffset,I.css({overflow:"hidden",position:"fixed",top:`-${P}px`,width:o})}function O(){I.css({overflow:"",position:"",top:"",width:""}),$(window).scrollTop(P)}function L(o){o?O():R()}var z=[991,767,479],k=window.innerWidth;function W(){hamOpen&&O()}function H(){let o=window.innerWidth;z.forEach(e=>{(k<=e&&o>e||k>=e&&o<e)&&W(e)}),k=o}window.addEventListener("resize",H);C(".section_hp-slider",".hp-slider_wrap","hp-hero",{slidesPerView:1,spaceBetween:12,threshold:40,autoplay:{delay:2e4},on:{autoplayStart:function(){$(".hp-slider_wrap .w-slider-dot").removeClass("stopped")},autoplayStop:function(){$(".hp-slider_wrap .w-slider-dot").addClass("stopped")},slideChange:function(o){let s=$(o.slides).eq(o.realIndex).find(".w-background-video video");s.length&&!s.hasClass("playing")&&(s.addClass("playing"),s[0].play())}}});C(".section_exp-tabs",".exp-tabs_tabs","exp-tabs-menu",{slidesPerView:1,spaceBetween:20,slideToClickedSlide:!0,autoplay:{delay:7e3},on:{autoplayStart:function(){$(".swiper-slide-active .exp-tabs_tabs-progress-line").removeClass("stopped")},autoplayStop:function(){$(".swiper-slide-active .exp-tabs_tabs-progress-line").addClass("stopped")},slideChange:function(o){let e=Object.keys(swipers["exp-tabs-content"])[0];swipers["exp-tabs-content"][e].slideTo(o.realIndex)}},breakpoints:{0:{spaceBetween:16},992:{spaceBetween:20}}});C(".exp-tabs_slider-box",".exp-tabs_slider","exp-tabs-content",{slidesPerView:1,spaceBetween:0,on:{slideChange:function(o){if(window.innerWidth<992){let e=Object.keys(swipers["exp-tabs-menu"])[0];swipers["exp-tabs-menu"][e].slideTo(o.realIndex)}T(o)},init:function(o){T(o)}},breakpoints:{0:{spaceBetween:10,allowTouchMove:!0},992:{spaceBetween:0,allowTouchMove:!1}}});function T(o){let e=o.activeIndex,{length:s}=o.slides,i=e-1,l=e+1;if(i>=0){let a=o.slides.eq(i);$("[prev-restaurant]").text($(a).attr("data-label-next"))}else $("[prev-restaurant]").text("");if(l<s){let a=o.slides.eq(l);$("[next-restaurant]").text($(a).attr("data-label-next"))}else $("[next-restaurant]").text("")}$(document).ready(function(){j("#grader-name",".predictions-container")});function j(o,e){let s,i,l,a=$(o),c=$(e);if(!a.length)return;let n=a.data("place-types").split(",").map(r=>r.trim().replace(/['"]/g,"")),d=a.data("country-restrict");function u(r){if(r){let p=new URLSearchParams(window.location.search),h=["utm_source=homepage"];p.forEach((y,w)=>{w.toLowerCase().startsWith("utm_")&&w.toLowerCase()!=="utm_source"&&h.push(`${w}=${y}`)});let x=`https://grader.owner.com/?placeid=${r}&${h.join("&")}`;window.open(x,"_blank")}}function g(){window.google&&window.google.maps?(s=new google.maps.places.AutocompleteService,i=new google.maps.places.PlacesService(document.createElement("div"))):console.error("Google Maps API not loaded")}function m(r){if(l=null,r.length>0&&s){let p={input:r,types:n};d&&(p.componentRestrictions={country:d}),s.getPlacePredictions(p,(h,x)=>{V(h,x)})}else c.html("").addClass("hidden")}function V(r,p){c.html(""),p===google.maps.places.PlacesServiceStatus.OK&&r&&r.length>0?(r.forEach((h,x)=>{let y=$(`
        <div class="prediction-item" data-place-id="${h.place_id}">
          <span class="main-text p13">${h.structured_formatting.main_text}</span>
          <span class="secondarytext p13 text-color-content-tertiary">${h.structured_formatting.secondary_text}</span>
        </div>
      `);c.append(y)}),c.removeClass("hidden")):c.addClass("hidden")}function S(r){r&&i&&i.getDetails({placeId:r},(p,h)=>{h===google.maps.places.PlacesServiceStatus.OK&&(a.trigger("placeSelected",[p]),a.val(p.name),console.log(r),c.addClass("hidden"))})}let b;a.on("input focus",function(){clearTimeout(b),b=setTimeout(()=>{m($(this).val())},300)}),c.on("click",".prediction-item",function(){l=$(this).data("place-id"),A(a,!1),S(l),u(l)}),$(document).on("click",function(r){!$(r.target).closest(e).length&&!$(r.target).is(a)&&c.addClass("hidden")}),$(".hp-grader_btn-submit").add(".hp-grader_btn-submit2").on("click",function(r){l?u(l):A(a,!0)}),g()}$(".hp-grader_input").on("focus",function(){swipers["hp-hero"][0].autoplay.stop()});$(".hp-grader_input").on("blur",function(){swipers["hp-hero"][0].autoplay.start()});$(".hp-grader_form2-input").on("focus",function(){window.innerWidth<480&&($(".hp-grader_form2-wrap").addClass("cc-active"),L(!1))});$(".hp-grader_form2-close").on("click",function(){window.innerWidth<480&&($(".hp-grader_form2-wrap").removeClass("cc-active"),L(!1))});function D(){document.querySelectorAll("[data-vimeo-player-init]").forEach(function(e,s){let i=e.getAttribute("data-vimeo-video-id");if(!i)return;let l=`https://player.vimeo.com/video/${i}?api=1&background=1&autoplay=0&loop=0&muted=1`;e.querySelector("iframe").setAttribute("src",l);let a="vimeo-player-index-"+s;e.setAttribute("id",a);let c=e.id,n=new Vimeo.Player(c),d;e.getAttribute("data-vimeo-update-size")==="true"&&n.getVideoWidth().then(function(t){n.getVideoHeight().then(function(f){d=f/t;let v=e.querySelector(".vimeo-player__before");v&&(v.style.paddingTop=d*100+"%")})});function u(){let t=e.offsetHeight/e.offsetWidth*100,f=e.querySelector(".vimeo-bg__iframe-wrapper");f&&d&&(t>d*100?f.style.width=`${t/(d*100)*100}%`:f.style.width="")}if(e.getAttribute("data-vimeo-update-size")==="true"?(u(),n.getVideoWidth().then(function(){n.getVideoHeight().then(function(){u()})})):u(),window.addEventListener("resize",u),n.on("play",function(){e.setAttribute("data-vimeo-loaded","true")}),e.getAttribute("data-vimeo-autoplay")==="false")n.setVolume(1),n.pause();else if(n.setVolume(0),e.setAttribute("data-vimeo-muted","true"),e.getAttribute("data-vimeo-paused-by-user")==="false"){let t=function(){let f=e.getBoundingClientRect();f.top<window.innerHeight&&f.bottom>0?g():m()};var G=t;t(),window.addEventListener("scroll",t)}function g(){e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-playing","true"),n.play()}function m(){e.setAttribute("data-vimeo-playing","false"),n.pause()}e.querySelectorAll('[data-vimeo-control="play"]').forEach(t=>{t.addEventListener("click",function(){n.setVolume(0),g();let f=e.getAttribute("data-vimeo-muted")==="true"?0:1;n.setVolume(f)})});let S=e.querySelector('[data-vimeo-control="pause"]');S&&S.addEventListener("click",function(){m(),e.getAttribute("data-vimeo-autoplay")==="true"&&(e.setAttribute("data-vimeo-paused-by-user","true"),window.removeEventListener("scroll",G))});let b=e.querySelector('[data-vimeo-control="mute"]');b&&b.addEventListener("click",function(){e.getAttribute("data-vimeo-muted")==="false"?(n.setVolume(0),e.setAttribute("data-vimeo-muted","true")):(n.setVolume(1),e.setAttribute("data-vimeo-muted","false"))});let r=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),p=e.querySelector('[data-vimeo-control="fullscreen"]');!r&&p&&(p.style.display="none"),p&&p.addEventListener("click",()=>{let t=document.getElementById(c);if(!t)return;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(e.setAttribute("data-vimeo-fullscreen","false"),(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)):(e.setAttribute("data-vimeo-fullscreen","true"),(t.requestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen).call(t))});let h=()=>{let t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e.setAttribute("data-vimeo-fullscreen",t?"true":"false")};["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(t=>{document.addEventListener(t,h)});function x(t){let f=Math.floor(t/3600);t-=f*3600;let v=Math.floor(t/60);return t-=v*60,v+":"+(t<10?"0"+t:t)}let y=e.querySelector("[data-vimeo-duration]");n.getDuration().then(function(t){y&&(y.textContent=x(t)),e.querySelectorAll('[data-vimeo-control="timeline"], progress').forEach(v=>{v.setAttribute("max",t)})});let w=e.querySelector('[data-vimeo-control="timeline"]'),_=e.querySelector("progress");function q(){n.getDuration().then(function(){let t=w.value;n.setCurrentTime(t),_&&(_.value=t)})}w&&["input","change"].forEach(t=>{w.addEventListener(t,q)}),n.on("timeupdate",function(t){w&&(w.value=t.seconds),_&&(_.value=t.seconds),y&&(y.textContent=x(Math.trunc(t.seconds)))});let F;e.addEventListener("mousemove",function(){e.getAttribute("data-vimeo-hover")==="false"&&e.setAttribute("data-vimeo-hover","true"),clearTimeout(F),F=setTimeout(B,3e3)});function B(){e.setAttribute("data-vimeo-hover","false")}function E(){e.setAttribute("data-vimeo-activated","false"),e.setAttribute("data-vimeo-playing","false"),n.unload()}n.on("ended",E)})}D();function M(o){let e={container:"[data-ai-label]",strings:["Scan your site and see what isn\u2019t working","Find out how to get discovered on Google","Calculate how much more you could earn","Compare yourself with your local competition"],duration:.5,stayDuration:2,yOffset:4,ease:"power3.out"},s=$.extend({},e,o),i=$(s.container);if(i.length===0){console.error("Animation container not found");return}i.empty(),i.css({position:"relative",display:"block",width:"100%"}),s.strings.forEach((n,d)=>{let u=$('<span class="loop-text"></span>');u.text(n),u.css({opacity:0,position:"absolute",top:0,left:0,width:"100%"}),i.append(u)});let l=0;i.find(".loop-text").each(function(){let n=$(this).outerHeight();n>l&&(l=n)}),i.css("height",l+"px");let a=i.find(".loop-text"),c=gsap.timeline({repeat:-1,repeatDelay:0});return gsap.set(a,{opacity:0,y:s.yOffset}),a.each((n,d)=>{c.to(d,{opacity:1,y:0,duration:s.duration,ease:s.ease}),c.to(d,{opacity:1,duration:s.stayDuration}),c.to(d,{opacity:0,y:-s.yOffset,duration:s.duration,ease:s.ease}),c.to({},{duration:.1})}),c}$(document).ready(function(){M()});$(document).ready(function(){let o;function e(){window.visualViewport?o=window.visualViewport.height:o=window.innerHeight,document.documentElement.style.setProperty("--real-viewport-height",`${o}px`)}e(),window.visualViewport?window.visualViewport.addEventListener("resize",function(){e()}):$(window).on("resize",function(){e()}),$(window).on("orientationchange",function(){setTimeout(e,100)})});})();
