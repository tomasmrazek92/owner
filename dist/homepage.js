"use strict";(()=>{var b=t=>{let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return e}};var k=!1,x=t=>{let e=JSON.parse(localStorage.getItem("restaurant"));if(console.log(e),e&&Array.isArray(e.types)){let o=["bar","cafe","bakery","food","restaurant"];return!e.types.some(i=>o.includes(i))&&!k?(c(t),k=!0,!1):!0}return!1};function T(t){let o=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,}$/.test($(t).val());return c($(t),!o,"Please fill correct email address."),o}function R(t){let e=!0;return e=z(t),e}function z(t){let e=x(t);return e?c($(t),!1):c($(t),!0),e}function B(t){let e,o=$(t).siblings(".select2"),r=$(t).siblings(".nice-select");o?e=o.find(".select2-selection--single"):r?e=$(r):e=$(t);let i=!0;return $(t).val()===""?(validArr.push(selectVal),$(e).addClass("is-invalid"),i=!1):$(e).removeClass("is-invalid"),i}function j(t){return c($(t),!1),!0}function D(t){return $(t).attr("name")==="restaurant-name"&&c($(t),!0,"Please select a business location from the search results."),c($(t),!0),!1}var C=t=>{let e=t,o=!0;return $(e).prop("required")&&($(e).val()?$(e).is('[type="email"]')?o=T(e):$(e).attr("name")==="restaurant-name"?o=R(e):$(e).is("select")?o=B(e):o=j(e):o=D(e)),o?c($(e),!1):$(e).addClass("error"),o},c=(t,e,o)=>{let r=$(t).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(t).closest(".form-field, [form-field]").toggleClass("error",e),r.toggle(e),o&&r.text(o)};var F=(t,e,o,r)=>{let i=".swiper_arrow",h=".swiper-navigation";$(t).each(function(){let p=$(this).index(),a=`${o}_${p}`;$(this).find(e).addClass(a),$(this).find(i).addClass(a),$(this).find(h).addClass(a);let l=Object.assign({},r,{speed:750,threshold:20,navigation:{prevEl:`${i}.prev.${a}`,nextEl:`${i}.next.${a}`},pagination:{el:`${h}.${a}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot",clickable:!0}});for(let f in r)f in l&&(l[f]=r[f]);let d=new Swiper(`${e}.${a}`,l);swipers[o]=swipers[o]||{},swipers[o][p]=d})};F(".section_hp-slider",".hp-slider_wrap","hp-hero",{slidesPerView:1,spaceBetween:12,autoplay:{delay:2e4},on:{autoplayStart:function(){$(".hp-slider_wrap .w-slider-dot").removeClass("stopped")},autoplayStop:function(){$(".hp-slider_wrap .w-slider-dot").addClass("stopped")},slideChange:function(t){let o=$(t.slides).eq(t.realIndex).find(".w-background-video video");o.length&&!o.hasClass("playing")&&(o.addClass("playing"),o[0].play())}}});function G(){let t=!0;return $(".hp-slider_item-form form").find(":input:visible, select").each(function(){let e=C($(this));t=t&&e}),t}$(".hp-grader_btn-submit").on("click",function(t){if(t.preventDefault(),G()){let o=b("restaurant");window.open(`https://grader.owner.com/?placeid=${o.place_id}&utm_source=homepage`,"_blank")}});var E=(t,e=10)=>{let o=0,r=()=>{o++,window.googleAutocomplete?t(window.googleAutocomplete):o<e?setTimeout(r,500):console.warn("Google Autocomplete initialization timeout")};r()};E(t=>{t.addListener("place_changed",function(){let o=`https://grader.owner.com/?placeid=${b("restaurant").place_id}&utm_source=homepage`;window.open(o,"_blank")||(window.location.href=o)})});$(".hp-grader_input").on("focus",function(){swipers["hp-hero"][0].autoplay.stop()});$(".hp-grader_input").on("blur",function(){swipers["hp-hero"][0].autoplay.start()});function H(){document.querySelectorAll("[data-vimeo-player-init]").forEach(function(e,o){let r=e.getAttribute("data-vimeo-video-id");if(!r)return;let i=`https://player.vimeo.com/video/${r}?api=1&background=1&autoplay=0&loop=0&muted=1`;e.querySelector("iframe").setAttribute("src",i);let h="vimeo-player-index-"+o;e.setAttribute("id",h);let p=e.id,a=new Vimeo.Player(p),l;e.getAttribute("data-vimeo-update-size")==="true"&&a.getVideoWidth().then(function(n){a.getVideoHeight().then(function(s){l=s/n;let u=e.querySelector(".vimeo-player__before");u&&(u.style.paddingTop=l*100+"%")})});function d(){let n=e.offsetHeight/e.offsetWidth*100,s=e.querySelector(".vimeo-bg__iframe-wrapper");s&&l&&(n>l*100?s.style.width=`${n/(l*100)*100}%`:s.style.width="")}if(e.getAttribute("data-vimeo-update-size")==="true"?(d(),a.getVideoWidth().then(function(){a.getVideoHeight().then(function(){d()})})):d(),window.addEventListener("resize",d),a.on("play",function(){e.setAttribute("data-vimeo-loaded","true")}),e.getAttribute("data-vimeo-autoplay")==="false")a.setVolume(1),a.pause();else if(a.setVolume(0),e.setAttribute("data-vimeo-muted","true"),e.getAttribute("data-vimeo-paused-by-user")==="false"){let n=function(){let s=e.getBoundingClientRect();s.top<window.innerHeight&&s.bottom>0?f():w()};var W=n;n(),window.addEventListener("scroll",n)}function f(){e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-playing","true"),a.play()}function w(){e.setAttribute("data-vimeo-playing","false"),a.pause()}e.querySelectorAll('[data-vimeo-control="play"]').forEach(n=>{n.addEventListener("click",function(){a.setVolume(0),f();let s=e.getAttribute("data-vimeo-muted")==="true"?0:1;a.setVolume(s)})});let A=e.querySelector('[data-vimeo-control="pause"]');A&&A.addEventListener("click",function(){w(),e.getAttribute("data-vimeo-autoplay")==="true"&&(e.setAttribute("data-vimeo-paused-by-user","true"),window.removeEventListener("scroll",W))});let _=e.querySelector('[data-vimeo-control="mute"]');_&&_.addEventListener("click",function(){e.getAttribute("data-vimeo-muted")==="false"?(a.setVolume(0),e.setAttribute("data-vimeo-muted","true")):(a.setVolume(1),e.setAttribute("data-vimeo-muted","false"))});let I=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),g=e.querySelector('[data-vimeo-control="fullscreen"]');!I&&g&&(g.style.display="none"),g&&g.addEventListener("click",()=>{let n=document.getElementById(p);if(!n)return;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(e.setAttribute("data-vimeo-fullscreen","false"),(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)):(e.setAttribute("data-vimeo-fullscreen","true"),(n.requestFullscreen||n.webkitRequestFullscreen||n.mozRequestFullScreen||n.msRequestFullscreen).call(n))});let q=()=>{let n=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e.setAttribute("data-vimeo-fullscreen",n?"true":"false")};["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(n=>{document.addEventListener(n,q)});function V(n){let s=Math.floor(n/3600);n-=s*3600;let u=Math.floor(n/60);return n-=u*60,u+":"+(n<10?"0"+n:n)}let v=e.querySelector("[data-vimeo-duration]");a.getDuration().then(function(n){v&&(v.textContent=V(n)),e.querySelectorAll('[data-vimeo-control="timeline"], progress').forEach(u=>{u.setAttribute("max",n)})});let m=e.querySelector('[data-vimeo-control="timeline"]'),y=e.querySelector("progress");function P(){a.getDuration().then(function(){let n=m.value;a.setCurrentTime(n),y&&(y.value=n)})}m&&["input","change"].forEach(n=>{m.addEventListener(n,P)}),a.on("timeupdate",function(n){m&&(m.value=n.seconds),y&&(y.value=n.seconds),v&&(v.textContent=V(Math.trunc(n.seconds)))});let S;e.addEventListener("mousemove",function(){e.getAttribute("data-vimeo-hover")==="false"&&e.setAttribute("data-vimeo-hover","true"),clearTimeout(S),S=setTimeout(L,3e3)});function L(){e.setAttribute("data-vimeo-hover","false")}function O(){e.setAttribute("data-vimeo-activated","false"),e.setAttribute("data-vimeo-playing","false"),a.unload()}a.on("ended",O)})}H();})();
