"use strict";(()=>{var b=t=>{let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return e}};var k=!1,x=t=>{let e=JSON.parse(localStorage.getItem("restaurant"));if(console.log(e),e&&Array.isArray(e.types)){let n=["bar","cafe","bakery","food","restaurant"];return!e.types.some(i=>n.includes(i))&&!k?(c(t),k=!0,!1):!0}return!1};function T(t){let n=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,}$/.test($(t).val());return c($(t),!n,"Please fill correct email address."),n}function R(t){let e=!0;return e=z(t),e}function z(t){let e=x(t);return e?c($(t),!1):c($(t),!0),e}function B(t){let e,n=$(t).siblings(".select2"),a=$(t).siblings(".nice-select");n?e=n.find(".select2-selection--single"):a?e=$(a):e=$(t);let i=!0;return $(t).val()===""?(validArr.push(selectVal),$(e).addClass("is-invalid"),i=!1):$(e).removeClass("is-invalid"),i}function j(t){return c($(t),!1),!0}function D(t){return $(t).attr("name")==="restaurant-name"&&c($(t),!0,"Please select a business location from the search results."),c($(t),!0),!1}var C=t=>{let e=t,n=!0;return $(e).prop("required")&&($(e).val()?$(e).is('[type="email"]')?n=T(e):$(e).attr("name")==="restaurant-name"?n=R(e):$(e).is("select")?n=B(e):n=j(e):n=D(e)),n?c($(e),!1):$(e).addClass("error"),n},c=(t,e,n)=>{let a=$(t).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(t).closest(".form-field, [form-field]").toggleClass("error",e),a.toggle(e),n&&a.text(n)};var F=(t,e,n,a)=>{let i=".swiper_arrow",h=".swiper-navigation";$(t).each(function(){let p=$(this).index(),r=`${n}_${p}`;$(this).find(e).addClass(r),$(this).find(i).addClass(r),$(this).find(h).addClass(r);let l=Object.assign({},a,{speed:750,threshold:20,navigation:{prevEl:`${i}.prev.${r}`,nextEl:`${i}.next.${r}`},pagination:{el:`${h}.${r}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot",clickable:!0}});for(let f in a)f in l&&(l[f]=a[f]);let d=new Swiper(`${e}.${r}`,l);swipers[n]=swipers[n]||{},swipers[n][p]=d})};F(".section_hp-slider",".hp-slider_wrap","hp-hero",{slidesPerView:1,spaceBetween:12,autoplay:{delay:2e4},on:{autoplayStart:function(){$(".hp-slider_wrap .w-slider-dot").removeClass("stopped")},autoplayStop:function(){$(".hp-slider_wrap .w-slider-dot").addClass("stopped")},slideChange:function(t){let n=$(t.slides).eq(t.realIndex).find(".w-background-video video");n.length&&!n.hasClass("playing")&&(n.addClass("playing"),n[0].play())}}});function E(){let t=!0;return $(".hp-slider_item-form form").find(":input:visible, select").each(function(){let e=C($(this));t=t&&e}),t}$(".hp-grader_btn-submit").on("click",function(t){if(t.preventDefault(),E()){let n=b("restaurant");window.open(`https://grader.owner.com/?placeid=${n.place_id}&utm_source=homepage`,"_blank")}});var G=(t,e=10)=>{let n=0,a=()=>{n++,window.googleAutocomplete?t(window.googleAutocomplete):n<e?setTimeout(a,500):console.warn("Google Autocomplete initialization timeout")};a()};G(t=>{t.addListener("place_changed",function(){let e=b("restaurant"),n=document.createElement("a");n.href=`https://grader.owner.com/?placeid=${e.place_id}&utm_source=homepage`,n.target="_blank",n.rel="noopener noreferrer",document.body.appendChild(n),n.click(),document.body.removeChild(n)})});$(".hp-grader_input").on("focus",function(){swipers["hp-hero"][0].autoplay.stop()});$(".hp-grader_input").on("blur",function(){swipers["hp-hero"][0].autoplay.start()});function H(){document.querySelectorAll("[data-vimeo-player-init]").forEach(function(e,n){let a=e.getAttribute("data-vimeo-video-id");if(!a)return;let i=`https://player.vimeo.com/video/${a}?api=1&background=1&autoplay=0&loop=0&muted=1`;e.querySelector("iframe").setAttribute("src",i);let h="vimeo-player-index-"+n;e.setAttribute("id",h);let p=e.id,r=new Vimeo.Player(p),l;e.getAttribute("data-vimeo-update-size")==="true"&&r.getVideoWidth().then(function(o){r.getVideoHeight().then(function(s){l=s/o;let u=e.querySelector(".vimeo-player__before");u&&(u.style.paddingTop=l*100+"%")})});function d(){let o=e.offsetHeight/e.offsetWidth*100,s=e.querySelector(".vimeo-bg__iframe-wrapper");s&&l&&(o>l*100?s.style.width=`${o/(l*100)*100}%`:s.style.width="")}if(e.getAttribute("data-vimeo-update-size")==="true"?(d(),r.getVideoWidth().then(function(){r.getVideoHeight().then(function(){d()})})):d(),window.addEventListener("resize",d),r.on("play",function(){e.setAttribute("data-vimeo-loaded","true")}),e.getAttribute("data-vimeo-autoplay")==="false")r.setVolume(1),r.pause();else if(r.setVolume(0),e.setAttribute("data-vimeo-muted","true"),e.getAttribute("data-vimeo-paused-by-user")==="false"){let o=function(){let s=e.getBoundingClientRect();s.top<window.innerHeight&&s.bottom>0?f():w()};var W=o;o(),window.addEventListener("scroll",o)}function f(){e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-playing","true"),r.play()}function w(){e.setAttribute("data-vimeo-playing","false"),r.pause()}e.querySelectorAll('[data-vimeo-control="play"]').forEach(o=>{o.addEventListener("click",function(){r.setVolume(0),f();let s=e.getAttribute("data-vimeo-muted")==="true"?0:1;r.setVolume(s)})});let A=e.querySelector('[data-vimeo-control="pause"]');A&&A.addEventListener("click",function(){w(),e.getAttribute("data-vimeo-autoplay")==="true"&&(e.setAttribute("data-vimeo-paused-by-user","true"),window.removeEventListener("scroll",W))});let _=e.querySelector('[data-vimeo-control="mute"]');_&&_.addEventListener("click",function(){e.getAttribute("data-vimeo-muted")==="false"?(r.setVolume(0),e.setAttribute("data-vimeo-muted","true")):(r.setVolume(1),e.setAttribute("data-vimeo-muted","false"))});let I=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),g=e.querySelector('[data-vimeo-control="fullscreen"]');!I&&g&&(g.style.display="none"),g&&g.addEventListener("click",()=>{let o=document.getElementById(p);if(!o)return;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(e.setAttribute("data-vimeo-fullscreen","false"),(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)):(e.setAttribute("data-vimeo-fullscreen","true"),(o.requestFullscreen||o.webkitRequestFullscreen||o.mozRequestFullScreen||o.msRequestFullscreen).call(o))});let q=()=>{let o=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e.setAttribute("data-vimeo-fullscreen",o?"true":"false")};["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(o=>{document.addEventListener(o,q)});function V(o){let s=Math.floor(o/3600);o-=s*3600;let u=Math.floor(o/60);return o-=u*60,u+":"+(o<10?"0"+o:o)}let v=e.querySelector("[data-vimeo-duration]");r.getDuration().then(function(o){v&&(v.textContent=V(o)),e.querySelectorAll('[data-vimeo-control="timeline"], progress').forEach(u=>{u.setAttribute("max",o)})});let m=e.querySelector('[data-vimeo-control="timeline"]'),y=e.querySelector("progress");function P(){r.getDuration().then(function(){let o=m.value;r.setCurrentTime(o),y&&(y.value=o)})}m&&["input","change"].forEach(o=>{m.addEventListener(o,P)}),r.on("timeupdate",function(o){m&&(m.value=o.seconds),y&&(y.value=o.seconds),v&&(v.textContent=V(Math.trunc(o.seconds)))});let S;e.addEventListener("mousemove",function(){e.getAttribute("data-vimeo-hover")==="false"&&e.setAttribute("data-vimeo-hover","true"),clearTimeout(S),S=setTimeout(L,3e3)});function L(){e.setAttribute("data-vimeo-hover","false")}function O(){e.setAttribute("data-vimeo-activated","false"),e.setAttribute("data-vimeo-playing","false"),r.unload()}r.on("ended",O)})}H();})();
