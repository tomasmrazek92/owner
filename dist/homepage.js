"use strict";(()=>{var b=n=>{let e=localStorage.getItem(n);try{return JSON.parse(e)}catch{return e}};var x=!1,k=n=>{let e=JSON.parse(localStorage.getItem("restaurant"));if(console.log(e),e&&Array.isArray(e.types)){let r=["bar","cafe","bakery","food","restaurant"];return!e.types.some(i=>r.includes(i))&&!x?(c(n),x=!0,!1):!0}return!1};function R(n){let r=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,}$/.test($(n).val());return c($(n),!r,"Please fill correct email address."),r}function T(n){let e=!0;return e=z(n),e}function z(n){let e=k(n);return e?c($(n),!1):c($(n),!0),e}function B(n){let e,r=$(n).siblings(".select2"),a=$(n).siblings(".nice-select");r?e=r.find(".select2-selection--single"):a?e=$(a):e=$(n);let i=!0;return $(n).val()===""?(validArr.push(selectVal),$(e).addClass("is-invalid"),i=!1):$(e).removeClass("is-invalid"),i}function j(n){return c($(n),!1),!0}function D(n){return $(n).attr("name")==="restaurant-name"&&c($(n),!0,"Please select a business location from the search results."),c($(n),!0),!1}var F=n=>{let e=n,r=!0;return $(e).prop("required")&&($(e).val()?$(e).is('[type="email"]')?r=R(e):$(e).attr("name")==="restaurant-name"?r=T(e):$(e).is("select")?r=B(e):r=j(e):r=D(e)),r?c($(e),!1):$(e).addClass("error"),r},c=(n,e,r)=>{let a=$(n).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(n).closest(".form-field, [form-field]").toggleClass("error",e),a.toggle(e),r&&a.text(r)};var I=(n,e,r,a)=>{let i=".swiper_arrow",h=".swiper-navigation";$(n).each(function(){let p=$(this).index(),s=`${r}_${p}`;$(this).find(e).addClass(s),$(this).find(i).addClass(s),$(this).find(h).addClass(s);let l=Object.assign({},a,{speed:750,threshold:20,navigation:{prevEl:`${i}.prev.${s}`,nextEl:`${i}.next.${s}`},pagination:{el:`${h}.${s}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot"}});for(let f in a)f in l&&(l[f]=a[f]);let d=new Swiper(`${e}.${s}`,l);swipers[r]=swipers[r]||{},swipers[r][p]=d})};I(".section_hp-slider",".hp-slider_wrap","hp-hero",{slidesPerView:1,spaceBetween:12,autoplay:{delay:2e4},on:{autoplayStart:function(){$(".hp-slider_wrap .w-slider-dot").removeClass("stopped")},autoplayStop:function(){$(".hp-slider_wrap .w-slider-dot").addClass("stopped")}}});function H(){let n=!0;return $(".hp-slider_item-form form").find(":input:visible, select").each(function(){let e=F($(this));n=n&&e}),n}$(".hp-grader_btn-submit").on("click",function(n){if(n.preventDefault(),H()){let r=b("restaurant");window.open(`https://grader.owner.com/?placeid=${r.place_id}&utm_source=homepage`,"_blank")}});$(".hp-grader_input").on("focus",function(){swipers["hp-hero"][0].autoplay.stop()});$(".hp-grader_input").on("blur",function(){swipers["hp-hero"][0].autoplay.start()});function M(){document.querySelectorAll("[data-vimeo-player-init]").forEach(function(e,r){console.log(e);let a=e.getAttribute("data-vimeo-video-id");if(!a)return;let i=`https://player.vimeo.com/video/${a}?api=1&background=1&autoplay=0&loop=0&muted=1`;e.querySelector("iframe").setAttribute("src",i);let h="vimeo-player-index-"+r;e.setAttribute("id",h);let p=e.id,s=new Vimeo.Player(p),l;e.getAttribute("data-vimeo-update-size")==="true"&&s.getVideoWidth().then(function(t){s.getVideoHeight().then(function(o){l=o/t;let u=e.querySelector(".vimeo-player__before");u&&(u.style.paddingTop=l*100+"%")})});function d(){let t=e.offsetHeight/e.offsetWidth*100,o=e.querySelector(".vimeo-bg__iframe-wrapper");o&&l&&(t>l*100?o.style.width=`${t/(l*100)*100}%`:o.style.width="")}if(e.getAttribute("data-vimeo-update-size")==="true"?(d(),s.getVideoWidth().then(function(){s.getVideoHeight().then(function(){d()})})):d(),window.addEventListener("resize",d),s.on("play",function(){e.setAttribute("data-vimeo-loaded","true")}),e.getAttribute("data-vimeo-autoplay")==="false")s.setVolume(1),s.pause();else if(s.setVolume(0),e.setAttribute("data-vimeo-muted","true"),e.getAttribute("data-vimeo-paused-by-user")==="false"){let t=function(){let o=e.getBoundingClientRect();o.top<window.innerHeight&&o.bottom>0?f():w()};var G=t;t(),window.addEventListener("scroll",t)}function f(){e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-playing","true"),s.play()}function w(){e.setAttribute("data-vimeo-playing","false"),s.pause()}e.querySelectorAll('[data-vimeo-control="play"]').forEach(t=>{t.addEventListener("click",function(){s.setVolume(0),f();let o=e.getAttribute("data-vimeo-muted")==="true"?0:1;s.setVolume(o)})});let A=e.querySelector('[data-vimeo-control="pause"]');A&&A.addEventListener("click",function(){w(),e.getAttribute("data-vimeo-autoplay")==="true"&&(e.setAttribute("data-vimeo-paused-by-user","true"),window.removeEventListener("scroll",G))});let V=e.querySelector('[data-vimeo-control="mute"]');V&&V.addEventListener("click",function(){e.getAttribute("data-vimeo-muted")==="false"?(s.setVolume(0),e.setAttribute("data-vimeo-muted","true")):(s.setVolume(1),e.setAttribute("data-vimeo-muted","false"))});let C=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),v=e.querySelector('[data-vimeo-control="fullscreen"]');!C&&v&&(v.style.display="none"),v&&v.addEventListener("click",()=>{let t=document.getElementById(p);if(!t)return;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(e.setAttribute("data-vimeo-fullscreen","false"),(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)):(e.setAttribute("data-vimeo-fullscreen","true"),(t.requestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen).call(t))});let q=()=>{let t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e.setAttribute("data-vimeo-fullscreen",t?"true":"false")};["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(t=>{document.addEventListener(t,q)});function _(t){let o=Math.floor(t/3600);t-=o*3600;let u=Math.floor(t/60);return t-=u*60,u+":"+(t<10?"0"+t:t)}let g=e.querySelector("[data-vimeo-duration]");s.getDuration().then(function(t){g&&(g.textContent=_(t)),e.querySelectorAll('[data-vimeo-control="timeline"], progress').forEach(u=>{u.setAttribute("max",t)})});let m=e.querySelector('[data-vimeo-control="timeline"]'),y=e.querySelector("progress");function P(){s.getDuration().then(function(){let t=m.value;s.setCurrentTime(t),y&&(y.value=t)})}m&&["input","change"].forEach(t=>{m.addEventListener(t,P)}),s.on("timeupdate",function(t){m&&(m.value=t.seconds),y&&(y.value=t.seconds),g&&(g.textContent=_(Math.trunc(t.seconds)))});let S;e.addEventListener("mousemove",function(){e.getAttribute("data-vimeo-hover")==="false"&&e.setAttribute("data-vimeo-hover","true"),clearTimeout(S),S=setTimeout(O,3e3)});function O(){e.setAttribute("data-vimeo-hover","false")}function L(){e.setAttribute("data-vimeo-activated","false"),e.setAttribute("data-vimeo-playing","false"),s.unload()}s.on("ended",L)})}M();})();
