"use strict";(()=>{var k=(i,e,o)=>{let r=$(i).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(i).closest(".form-field, [form-field]").toggleClass("error",e),r.toggle(e),o&&r.text(o)};var V=(i,e,o,r)=>{let l=".swiper_arrow",d=".swiper-navigation";$(i).each(function(){let m=$(this).index(),t=`${o}_${m}`;$(this).find(e).addClass(t),$(this).find(l).addClass(t),$(this).find(d).addClass(t);let a=Object.assign({},r,{speed:750,threshold:20,navigation:{prevEl:`${l}.prev.${t}`,nextEl:`${l}.next.${t}`},pagination:{el:`${d}.${t}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot",clickable:!0}}),y=r&&r.autoplay;if(y){let p={...r.autoplay};delete a.autoplay}for(let p in r)p in a&&p!=="autoplay"&&(a[p]=r[p]);let v=new Swiper(`${e}.${t}`,a);if(y){let p=$(this).find(`${e}.${t}`)[0];new IntersectionObserver(x=>{x.forEach(S=>{S.isIntersecting?(v.params.autoplay=r.autoplay,v.autoplay.start()):v.autoplay.stop()})},{threshold:.1}).observe(p)}swipers[o]=swipers[o]||{},swipers[o][m]=v})};V(".section_hp-slider",".hp-slider_wrap","hp-hero",{slidesPerView:1,spaceBetween:12,threshold:40,autoplay:{delay:2e4},on:{autoplayStart:function(){$(".hp-slider_wrap .w-slider-dot").removeClass("stopped")},autoplayStop:function(){$(".hp-slider_wrap .w-slider-dot").addClass("stopped")},slideChange:function(i){let o=$(i.slides).eq(i.realIndex).find(".w-background-video video");o.length&&!o.hasClass("playing")&&(o.addClass("playing"),o[0].play())}}});V(".section_exp-tabs",".exp-tabs_tabs","exp-tabs-menu",{slidesPerView:1,spaceBetween:20,slideToClickedSlide:!0,autoplay:{delay:7e3},on:{autoplayStart:function(){$(".swiper-slide-active .exp-tabs_tabs-progress-line").removeClass("stopped")},autoplayStop:function(){$(".swiper-slide-active .exp-tabs_tabs-progress-line").addClass("stopped")},slideChange:function(i){let e=Object.keys(swipers["exp-tabs-content"])[0];swipers["exp-tabs-content"][e].slideTo(i.realIndex)}},breakpoints:{0:{spaceBetween:16},992:{spaceBetween:20}}});V(".exp-tabs_slider-box",".exp-tabs_slider","exp-tabs-content",{slidesPerView:1,spaceBetween:0,on:{slideChange:function(i){if(window.innerWidth<992){let e=Object.keys(swipers["exp-tabs-menu"])[0];swipers["exp-tabs-menu"][e].slideTo(i.realIndex)}P(i)},init:function(i){P(i)}},breakpoints:{0:{spaceBetween:10,allowTouchMove:!0},992:{spaceBetween:0,allowTouchMove:!1}}});function P(i){let e=i.activeIndex,{length:o}=i.slides,r=e-1,l=e+1;if(r>=0){let d=i.slides.eq(r);$("[prev-restaurant]").text($(d).attr("data-label-next"))}else $("[prev-restaurant]").text("");if(l<o){let d=i.slides.eq(l);$("[next-restaurant]").text($(d).attr("data-label-next"))}else $("[next-restaurant]").text("")}$(document).ready(function(){O("#grader-name",".predictions-container")});function O(i,e){let o,r,l,d=-1,m=[],t=$(i),a=$(e);if(!t.length)return;let y=t.data("place-types").split(",").map(n=>n.trim().replace(/['"]/g,"")),v=t.data("country-restrict");function p(n){if(n){let c=new URLSearchParams(window.location.search),u=["utm_source=homepage"];c.forEach((h,C)=>{C.toLowerCase().startsWith("utm_")&&C.toLowerCase()!=="utm_source"&&u.push(`${C}=${h}`)});let f=`https://grader.owner.com/?placeid=${n}&${u.join("&")}`;window.open(f,"_blank")}}function I(){window.google&&window.google.maps?(o=new google.maps.places.AutocompleteService,r=new google.maps.places.PlacesService(document.createElement("div"))):console.error("Google Maps API not loaded")}function x(n){if(l=null,d=-1,n.length>0&&o){let c={input:n,types:y};v&&(c.componentRestrictions={country:v}),o.getPlacePredictions(c,(u,f)=>{S(u,f),u&&u.length>0&&setTimeout(()=>{_(0)},0)})}else a.html("").addClass("hidden")}function S(n,c){a.html(""),m=[],c===google.maps.places.PlacesServiceStatus.OK&&n&&n.length>0?(m=n,n.forEach((u,f)=>{let h=$(`
        <div class="prediction-item" data-place-id="${u.place_id}" data-index="${f}">
          <span class="main-text p13">${u.structured_formatting.main_text}</span>
          <span class="secondarytext p13 text-color-content-tertiary">${u.structured_formatting.secondary_text}</span>
        </div>
      `);a.append(h)}),a.removeClass("hidden")):a.addClass("hidden")}function _(n){let c=a.find(".prediction-item");if(c.length===0)return;n>=c.length?n=0:n<0&&(n=c.length-1),c.removeClass("selected");let u=c.eq(n).addClass("selected");d=n,l=u.data("place-id");let f=a[0],h=u[0];h&&f&&(h.offsetTop<f.scrollTop?f.scrollTop=h.offsetTop:h.offsetTop+h.clientHeight>f.scrollTop+f.clientHeight&&(f.scrollTop=h.offsetTop+h.clientHeight-f.clientHeight))}function w(n){n&&r&&r.getDetails({placeId:n},(c,u)=>{u===google.maps.places.PlacesServiceStatus.OK&&(t.trigger("placeSelected",[c]),t.val(c.name),a.addClass("hidden"),k(t,!1))})}function T(){let n=a.find(".prediction-item.selected");return n.length?(l=n.data("place-id"),w(l),p(l),!0):!1}let A;t.on("input focus",function(){clearTimeout(A),A=setTimeout(()=>{x($(this).val())},300)}),t.on("keydown",function(n){if(a.hasClass("hidden")){if(n.which===13&&l)return n.preventDefault(),p(l),!1}else switch(n.which){case 38:n.preventDefault(),_(d-1);break;case 40:n.preventDefault(),_(d+1);break;case 13:if(n.preventDefault(),T())return!1;break;case 27:n.preventDefault(),a.addClass("hidden");break;case 9:if(d>=0){n.preventDefault();let c=a.find(".prediction-item.selected");c.length&&(l=c.data("place-id"),w(l))}break}}),a.on("click",".prediction-item",function(){l=$(this).data("place-id"),k(t,!1),w(l),p(l)}),a.on("mouseenter",".prediction-item",function(){d=parseInt($(this).data("index"),10),a.find(".prediction-item").removeClass("selected"),$(this).addClass("selected")}),$(document).on("click",function(n){!$(n.target).closest(e).length&&!$(n.target).is(t)&&(a.addClass("hidden"),t.val(""))}),$(".hp-grader_btn-submit").add(".hp-grader_btn-submit2").on("click",function(n){l?p(l):k(t,!0)}),I()}$(".hp-grader_input").on("focus",function(){swipers["hp-hero"][0].autoplay.stop()});$(".hp-grader_input").on("blur",function(){swipers["hp-hero"][0].autoplay.start()});function L(){document.querySelectorAll("[data-vimeo-player-init]").forEach(function(e,o){let r=e.getAttribute("data-vimeo-video-id");if(!r)return;let l=`https://player.vimeo.com/video/${r}?api=1&background=1&autoplay=0&loop=0&muted=1`;e.querySelector("iframe").setAttribute("src",l);let d="vimeo-player-index-"+o;e.setAttribute("id",d);let m=e.id,t=new Vimeo.Player(m),a;e.getAttribute("data-vimeo-update-size")==="true"&&t.getVideoWidth().then(function(s){t.getVideoHeight().then(function(g){a=g/s;let b=e.querySelector(".vimeo-player__before");b&&(b.style.paddingTop=a*100+"%")})});function y(){let s=e.offsetHeight/e.offsetWidth*100,g=e.querySelector(".vimeo-bg__iframe-wrapper");g&&a&&(s>a*100?g.style.width=`${s/(a*100)*100}%`:g.style.width="")}if(e.getAttribute("data-vimeo-update-size")==="true"?(y(),t.getVideoWidth().then(function(){t.getVideoHeight().then(function(){y()})})):y(),window.addEventListener("resize",y),t.on("play",function(){e.setAttribute("data-vimeo-loaded","true")}),e.getAttribute("data-vimeo-autoplay")==="false")t.setVolume(1),t.pause();else if(t.setVolume(0),e.setAttribute("data-vimeo-muted","true"),e.getAttribute("data-vimeo-paused-by-user")==="false"){let s=function(){let g=e.getBoundingClientRect();g.top<window.innerHeight&&g.bottom>0?v():p()};var D=s;s(),window.addEventListener("scroll",s)}function v(){e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-playing","true"),t.play()}function p(){e.setAttribute("data-vimeo-playing","false"),t.pause()}e.querySelectorAll('[data-vimeo-control="play"]').forEach(s=>{s.addEventListener("click",function(){t.setVolume(0),v();let g=e.getAttribute("data-vimeo-muted")==="true"?0:1;t.setVolume(g)})});let x=e.querySelector('[data-vimeo-control="pause"]');x&&x.addEventListener("click",function(){p(),e.getAttribute("data-vimeo-autoplay")==="true"&&(e.setAttribute("data-vimeo-paused-by-user","true"),window.removeEventListener("scroll",D))});let S=e.querySelector('[data-vimeo-control="mute"]');S&&S.addEventListener("click",function(){e.getAttribute("data-vimeo-muted")==="false"?(t.setVolume(0),e.setAttribute("data-vimeo-muted","true")):(t.setVolume(1),e.setAttribute("data-vimeo-muted","false"))});let _=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),w=e.querySelector('[data-vimeo-control="fullscreen"]');!_&&w&&(w.style.display="none"),w&&w.addEventListener("click",()=>{let s=document.getElementById(m);if(!s)return;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(e.setAttribute("data-vimeo-fullscreen","false"),(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)):(e.setAttribute("data-vimeo-fullscreen","true"),(s.requestFullscreen||s.webkitRequestFullscreen||s.mozRequestFullScreen||s.msRequestFullscreen).call(s))});let T=()=>{let s=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e.setAttribute("data-vimeo-fullscreen",s?"true":"false")};["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(s=>{document.addEventListener(s,T)});function A(s){let g=Math.floor(s/3600);s-=g*3600;let b=Math.floor(s/60);return s-=b*60,b+":"+(s<10?"0"+s:s)}let n=e.querySelector("[data-vimeo-duration]");t.getDuration().then(function(s){n&&(n.textContent=A(s)),e.querySelectorAll('[data-vimeo-control="timeline"], progress').forEach(b=>{b.setAttribute("max",s)})});let c=e.querySelector('[data-vimeo-control="timeline"]'),u=e.querySelector("progress");function f(){t.getDuration().then(function(){let s=c.value;t.setCurrentTime(s),u&&(u.value=s)})}c&&["input","change"].forEach(s=>{c.addEventListener(s,f)}),t.on("timeupdate",function(s){c&&(c.value=s.seconds),u&&(u.value=s.seconds),n&&(n.textContent=A(Math.trunc(s.seconds)))});let h;e.addEventListener("mousemove",function(){e.getAttribute("data-vimeo-hover")==="false"&&e.setAttribute("data-vimeo-hover","true"),clearTimeout(h),h=setTimeout(C,3e3)});function C(){e.setAttribute("data-vimeo-hover","false")}function F(){e.setAttribute("data-vimeo-activated","false"),e.setAttribute("data-vimeo-playing","false"),t.unload()}t.on("ended",F)})}L();function q(i){let e={container:"[data-ai-label]",strings:["Scan your site and see what isn\u2019t working","Find out how to get discovered on Google","Calculate how much more you could earn","Compare yourself with your local competition"],duration:.5,stayDuration:2,yOffset:4,ease:"power3.out"},o=$.extend({},e,i),r=$(o.container);if(r.length===0){console.error("Animation container not found");return}r.empty(),r.css({position:"relative",display:"block",width:"100%"}),o.strings.forEach((t,a)=>{let y=$('<span class="loop-text"></span>');y.text(t),y.css({opacity:0,position:"absolute",top:0,left:0,width:"100%"}),r.append(y)});let l=0;r.find(".loop-text").each(function(){let t=$(this).outerHeight();t>l&&(l=t)}),r.css("height",l+"px");let d=r.find(".loop-text"),m=gsap.timeline({repeat:-1,repeatDelay:0});return gsap.set(d,{opacity:0,y:o.yOffset}),d.each((t,a)=>{m.to(a,{opacity:1,y:0,duration:o.duration,ease:o.ease}),m.to(a,{opacity:1,duration:o.stayDuration}),m.to(a,{opacity:0,y:-o.yOffset,duration:o.duration,ease:o.ease}),m.to({},{duration:.1})}),m}$(document).ready(function(){q()});$(document).ready(function(){let i;function e(){window.visualViewport?i=window.visualViewport.height:i=window.innerHeight,document.documentElement.style.setProperty("--real-viewport-height",`${i}px`)}e(),window.visualViewport?(window.visualViewport.addEventListener("resize",function(){e()}),window.visualViewport.addEventListener("scroll",function(){e()})):$(window).on("resize",function(){e()}),$(window).on("orientationchange",function(){setTimeout(e,100)})});$(document).ready(function(){console.log("Script initialized");var i=$('input[placeholder="Find your restaurant name"]');i.on("focus click touchstart",function(){console.log("Input focus/click/touch detected"),setTimeout(function(){window.scrollTo(0,0)},500)})});})();
