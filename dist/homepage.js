"use strict";(()=>{var V=(l,e,a)=>{let r=$(l).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(l).closest(".form-field, [form-field]").toggleClass("error",e),r.toggle(e),a&&r.text(a)};var I=(l,e,a,r)=>{let i=".swiper_arrow",d=".swiper-navigation";$(l).each(function(){let p=$(this).index(),n=`${a}_${p}`;$(this).find(e).addClass(n),$(this).find(i).addClass(n),$(this).find(d).addClass(n);let o=Object.assign({},r,{speed:750,threshold:20,navigation:{prevEl:`${i}.prev.${n}`,nextEl:`${i}.next.${n}`},pagination:{el:`${d}.${n}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot",clickable:!0}}),h=r&&r.autoplay;if(h){let f={...r.autoplay};delete o.autoplay}for(let f in r)f in o&&f!=="autoplay"&&(o[f]=r[f]);let g=new Swiper(`${e}.${n}`,o);if(h){let f=$(this).find(`${e}.${n}`)[0];new IntersectionObserver(b=>{b.forEach(S=>{S.isIntersecting?(g.params.autoplay=r.autoplay,g.autoplay.start()):g.autoplay.stop()})},{threshold:.1}).observe(f)}swipers[a]=swipers[a]||{},swipers[a][p]=g})};I(".section_hp-slider",".hp-slider_wrap","hp-hero",{slidesPerView:1,spaceBetween:12,threshold:40,autoplay:{delay:2e4},on:{autoplayStart:function(){$(".hp-slider_wrap .w-slider-dot").removeClass("stopped")},autoplayStop:function(){$(".hp-slider_wrap .w-slider-dot").addClass("stopped")},slideChange:function(l){let a=$(l.slides).eq(l.realIndex).find(".w-background-video video");a.length&&!a.hasClass("playing")&&(a.addClass("playing"),a[0].play())}}});I(".section_exp-tabs",".exp-tabs_tabs","exp-tabs-menu",{slidesPerView:1,spaceBetween:20,slideToClickedSlide:!0,autoplay:{delay:7e3},on:{autoplayStart:function(){$(".swiper-slide-active .exp-tabs_tabs-progress-line").removeClass("stopped")},autoplayStop:function(){$(".swiper-slide-active .exp-tabs_tabs-progress-line").addClass("stopped")},slideChange:function(l){let e=Object.keys(swipers["exp-tabs-content"])[0];swipers["exp-tabs-content"][e].slideTo(l.realIndex)}},breakpoints:{0:{spaceBetween:16},992:{spaceBetween:20}}});I(".exp-tabs_slider-box",".exp-tabs_slider","exp-tabs-content",{slidesPerView:1,spaceBetween:0,on:{slideChange:function(l){if(window.innerWidth<992){let e=Object.keys(swipers["exp-tabs-menu"])[0];swipers["exp-tabs-menu"][e].slideTo(l.realIndex)}F(l)},init:function(l){F(l)}},breakpoints:{0:{spaceBetween:10,allowTouchMove:!0},992:{spaceBetween:0,allowTouchMove:!1}}});function F(l){let e=l.activeIndex,{length:a}=l.slides,r=e-1,i=e+1;if(r>=0){let d=l.slides.eq(r);$("[prev-restaurant]").text($(d).attr("data-label-next"))}else $("[prev-restaurant]").text("");if(i<a){let d=l.slides.eq(i);$("[next-restaurant]").text($(d).attr("data-label-next"))}else $("[next-restaurant]").text("")}$(document).ready(function(){O("#grader-name",".predictions-container")});function O(l,e){let a,r,i,d=-1,p=[],n=$(l),o=$(e);if(!n.length)return;let h=n.data("place-types").split(",").map(t=>t.trim().replace(/['"]/g,"")),g=n.data("country-restrict");function f(t){if(t){let c=new URLSearchParams(window.location.search),u=["utm_source=homepage"];c.forEach((C,A)=>{A.toLowerCase().startsWith("utm_")&&A.toLowerCase()!=="utm_source"&&u.push(`${A}=${C}`)});let v=`https://grader.owner.com/?placeid=${t}&${u.join("&")}`;window.open(v)}}function P(){window.google&&window.google.maps?(a=new google.maps.places.AutocompleteService,r=new google.maps.places.PlacesService(document.createElement("div"))):console.error("Google Maps API not loaded")}function b(t){if(i=null,d=-1,t.length>0&&a){let c={input:t,types:h};g&&(c.componentRestrictions={country:g}),a.getPlacePredictions(c,(u,v)=>{S(u,v),u&&u.length>0&&setTimeout(()=>{o.is(":visible")&&o.find(".prediction-item").length>0&&T(0)},50)})}else o.html("").addClass("hidden")}function S(t,c){o.html(""),p=[],c===google.maps.places.PlacesServiceStatus.OK&&t&&t.length>0?(p=t,t.forEach((u,v)=>{let C=$(`
        <div class="prediction-item" data-place-id="${u.place_id}" data-index="${v}">
          <span class="main-text p13">${u.structured_formatting.main_text}</span>
          <span class="secondarytext p13 text-color-content-tertiary">${u.structured_formatting.secondary_text}</span>
        </div>
      `);o.append(C)}),o.removeClass("hidden")):o.addClass("hidden")}function T(t){let c=o.find(".prediction-item");if(c.length===0)return;t>=c.length?t=0:t<0&&(t=c.length-1),c.removeClass("selected");let u=c.eq(t).addClass("selected");d=t,i=u.data("place-id")}function x(t){let c=o.find(".prediction-item");if(c.length===0)return;t>=c.length?t=0:t<0&&(t=c.length-1),c.removeClass("selected");let u=c.eq(t).addClass("selected");d=t,i=u.data("place-id")}function _(t){t&&r&&r.getDetails({placeId:t},(c,u)=>{u===google.maps.places.PlacesServiceStatus.OK&&(n.trigger("placeSelected",[c]),n.val(c.name),o.addClass("hidden"),V(n,!1))})}function k(){let t=o.find(".prediction-item.selected");return t.length?(i=t.data("place-id"),_(i),f(i),!0):!1}let y;n.on("input",function(){clearTimeout(y),y=setTimeout(()=>{b($(this).val())},300)}),n.on("input",function(){clearTimeout(y),y=setTimeout(()=>{b($(this).val())},300)}),n.on("keydown",function(t){let c=t.which;if(c===13&&i)return t.preventDefault(),f(i),!1;if(!o.hasClass("hidden"))switch(c){case 38:t.preventDefault(),x(d-1);break;case 40:t.preventDefault(),x(d+1);break;case 13:t.preventDefault(),k();break;case 27:t.preventDefault(),o.addClass("hidden");break;case 9:if(d>=0){t.preventDefault();let u=o.find(".prediction-item.selected");u.length&&(i=u.data("place-id"),_(i))}break}}),o.on("click",".prediction-item",function(){i=$(this).data("place-id"),V(n,!1),_(i),f(i)}),o.on("mouseenter",".prediction-item",function(){d=parseInt($(this).data("index"),10),o.find(".prediction-item").removeClass("selected"),$(this).addClass("selected")}),$(document).on("click",function(t){!$(t.target).closest(e).length&&!$(t.target).is(n)&&o.addClass("hidden")}),$(".hp-grader_btn-submit").add(".hp-grader_btn-submit2").on("click",function(t){i?f(i):V(n,!0)}),P()}$(".hp-grader_input").on("focus",function(){swipers["hp-hero"][0].autoplay.stop()});$(".hp-grader_input").on("blur",function(){swipers["hp-hero"][0].autoplay.start()});function q(){document.querySelectorAll("[data-vimeo-player-init]").forEach(function(e,a){let r=e.getAttribute("data-vimeo-video-id");if(!r)return;let i=`https://player.vimeo.com/video/${r}?api=1&background=1&autoplay=0&loop=0&muted=1`;e.querySelector("iframe").setAttribute("src",i);let d="vimeo-player-index-"+a;e.setAttribute("id",d);let p=e.id,n=new Vimeo.Player(p),o;e.getAttribute("data-vimeo-update-size")==="true"&&n.getVideoWidth().then(function(s){n.getVideoHeight().then(function(m){o=m/s;let w=e.querySelector(".vimeo-player__before");w&&(w.style.paddingTop=o*100+"%")})});function h(){let s=e.offsetHeight/e.offsetWidth*100,m=e.querySelector(".vimeo-bg__iframe-wrapper");m&&o&&(s>o*100?m.style.width=`${s/(o*100)*100}%`:m.style.width="")}if(e.getAttribute("data-vimeo-update-size")==="true"?(h(),n.getVideoWidth().then(function(){n.getVideoHeight().then(function(){h()})})):h(),window.addEventListener("resize",h),n.on("play",function(){e.setAttribute("data-vimeo-loaded","true")}),e.getAttribute("data-vimeo-autoplay")==="false")n.setVolume(1),n.pause();else if(n.setVolume(0),e.setAttribute("data-vimeo-muted","true"),e.getAttribute("data-vimeo-paused-by-user")==="false"){let s=function(){let m=e.getBoundingClientRect();m.top<window.innerHeight&&m.bottom>0?g():f()};var E=s;s(),window.addEventListener("scroll",s)}function g(){e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-playing","true"),n.play()}function f(){e.setAttribute("data-vimeo-playing","false"),n.pause()}e.querySelectorAll('[data-vimeo-control="play"]').forEach(s=>{s.addEventListener("click",function(){n.setVolume(0),g();let m=e.getAttribute("data-vimeo-muted")==="true"?0:1;n.setVolume(m)})});let b=e.querySelector('[data-vimeo-control="pause"]');b&&b.addEventListener("click",function(){f(),e.getAttribute("data-vimeo-autoplay")==="true"&&(e.setAttribute("data-vimeo-paused-by-user","true"),window.removeEventListener("scroll",E))});let S=e.querySelector('[data-vimeo-control="mute"]');S&&S.addEventListener("click",function(){e.getAttribute("data-vimeo-muted")==="false"?(n.setVolume(0),e.setAttribute("data-vimeo-muted","true")):(n.setVolume(1),e.setAttribute("data-vimeo-muted","false"))});let T=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),x=e.querySelector('[data-vimeo-control="fullscreen"]');!T&&x&&(x.style.display="none"),x&&x.addEventListener("click",()=>{let s=document.getElementById(p);if(!s)return;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(e.setAttribute("data-vimeo-fullscreen","false"),(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)):(e.setAttribute("data-vimeo-fullscreen","true"),(s.requestFullscreen||s.webkitRequestFullscreen||s.mozRequestFullScreen||s.msRequestFullscreen).call(s))});let _=()=>{let s=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e.setAttribute("data-vimeo-fullscreen",s?"true":"false")};["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(s=>{document.addEventListener(s,_)});function k(s){let m=Math.floor(s/3600);s-=m*3600;let w=Math.floor(s/60);return s-=w*60,w+":"+(s<10?"0"+s:s)}let y=e.querySelector("[data-vimeo-duration]");n.getDuration().then(function(s){y&&(y.textContent=k(s)),e.querySelectorAll('[data-vimeo-control="timeline"], progress').forEach(w=>{w.setAttribute("max",s)})});let t=e.querySelector('[data-vimeo-control="timeline"]'),c=e.querySelector("progress");function u(){n.getDuration().then(function(){let s=t.value;n.setCurrentTime(s),c&&(c.value=s)})}t&&["input","change"].forEach(s=>{t.addEventListener(s,u)}),n.on("timeupdate",function(s){t&&(t.value=s.seconds),c&&(c.value=s.seconds),y&&(y.textContent=k(Math.trunc(s.seconds)))});let v;e.addEventListener("mousemove",function(){e.getAttribute("data-vimeo-hover")==="false"&&e.setAttribute("data-vimeo-hover","true"),clearTimeout(v),v=setTimeout(C,3e3)});function C(){e.setAttribute("data-vimeo-hover","false")}function A(){e.setAttribute("data-vimeo-activated","false"),e.setAttribute("data-vimeo-playing","false"),n.unload()}n.on("ended",A)})}q();function L(l){let e={container:"[data-ai-label]",strings:["Scan your site and see what isn\u2019t working","Find out how to get discovered on Google","Calculate how much more you could earn","Compare yourself with your local competition"],duration:.5,stayDuration:2,yOffset:4,ease:"power3.out"},a=$.extend({},e,l),r=$(a.container);if(r.length===0){console.error("Animation container not found");return}r.empty(),r.css({position:"relative",display:"block",width:"100%"}),a.strings.forEach((n,o)=>{let h=$('<span class="loop-text"></span>');h.text(n),h.css({opacity:0,position:"absolute",top:0,left:0,width:"100%"}),r.append(h)});let i=0;r.find(".loop-text").each(function(){let n=$(this).outerHeight();n>i&&(i=n)}),r.css("height",i+"px");let d=r.find(".loop-text"),p=gsap.timeline({repeat:-1,repeatDelay:0});return gsap.set(d,{opacity:0,y:a.yOffset}),d.each((n,o)=>{p.to(o,{opacity:1,y:0,duration:a.duration,ease:a.ease}),p.to(o,{opacity:1,duration:a.stayDuration}),p.to(o,{opacity:0,y:-a.yOffset,duration:a.duration,ease:a.ease}),p.to({},{duration:.1})}),p}$(document).ready(function(){L()});$(document).ready(function(){let l,e;function a(){window.visualViewport?l=window.visualViewport.height:l=window.innerHeight,document.documentElement.style.setProperty("--real-viewport-height",`${l}px`);let r=$(".nav_wrap").outerHeight()||0,i=$(".hp-grader_form2-wrap").outerHeight()||0,d=parseInt($(".predictions-container").css("margin-bottom"))||0,p=parseInt($(".hp-grader_form2-wrap").css("bottom"))||0;e=l-r-i-d-p,document.documentElement.style.setProperty("--grader-list-height",`${e}px`)}a(),window.visualViewport?(window.visualViewport.addEventListener("resize",a),window.visualViewport.addEventListener("scroll",a)):$(window).on("resize",a),$(window).on("orientationchange",function(){setTimeout(a,100)})});})();
