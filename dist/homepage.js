"use strict";(()=>{var _=(c,e,i)=>{let l=$(c).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(c).closest(".form-field, [form-field]").toggleClass("error",e),l.toggle(e),i&&l.text(i)};var k=(c,e,i,l)=>{let r=".swiper_arrow",u=".swiper-navigation";$(c).each(function(){let p=$(this).index(),n=`${i}_${p}`;$(this).find(e).addClass(n),$(this).find(r).addClass(n),$(this).find(u).addClass(n);let o=Object.assign({},l,{speed:750,threshold:20,navigation:{prevEl:`${r}.prev.${n}`,nextEl:`${r}.next.${n}`},pagination:{el:`${u}.${n}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot",clickable:!0}}),h=l&&l.autoplay;if(h){let f={...l.autoplay};delete o.autoplay}for(let f in l)f in o&&f!=="autoplay"&&(o[f]=l[f]);let g=new Swiper(`${e}.${n}`,o);if(h){let f=$(this).find(`${e}.${n}`)[0];new IntersectionObserver(w=>{w.forEach(x=>{x.isIntersecting?(g.params.autoplay=l.autoplay,g.autoplay.start()):g.autoplay.stop()})},{threshold:.1}).observe(f)}swipers[i]=swipers[i]||{},swipers[i][p]=g})};k(".section_hp-slider",".hp-slider_wrap","hp-hero",{slidesPerView:1,spaceBetween:12,threshold:40,autoplay:{delay:2e4},on:{autoplayStart:function(){$(".hp-slider_wrap .w-slider-dot").removeClass("stopped")},autoplayStop:function(){$(".hp-slider_wrap .w-slider-dot").addClass("stopped")},slideChange:function(c){let i=$(c.slides).eq(c.realIndex).find(".w-background-video video");i.length&&!i.hasClass("playing")&&(i.addClass("playing"),i[0].play())}}});k(".section_exp-tabs",".exp-tabs_tabs","exp-tabs-menu",{slidesPerView:1,spaceBetween:20,slideToClickedSlide:!0,autoplay:{delay:7e3},on:{autoplayStart:function(){$(".swiper-slide-active .exp-tabs_tabs-progress-line").removeClass("stopped")},autoplayStop:function(){$(".swiper-slide-active .exp-tabs_tabs-progress-line").addClass("stopped")},slideChange:function(c){let e=Object.keys(swipers["exp-tabs-content"])[0];swipers["exp-tabs-content"][e].slideTo(c.realIndex)}},breakpoints:{0:{spaceBetween:16},992:{spaceBetween:20}}});k(".exp-tabs_slider-box",".exp-tabs_slider","exp-tabs-content",{slidesPerView:1,spaceBetween:0,on:{slideChange:function(c){if(window.innerWidth<992){let e=Object.keys(swipers["exp-tabs-menu"])[0];swipers["exp-tabs-menu"][e].slideTo(c.realIndex)}}},breakpoints:{0:{spaceBetween:10,allowTouchMove:!0},992:{spaceBetween:0,allowTouchMove:!1}}});$(document).ready(function(){F("#grader-name",".predictions-container")});function F(c,e){let i,l,r,u=-1,p=[],n=$(c),o=$(e);if(!n.length)return;let h=n.data("place-types").split(",").map(t=>t.trim().replace(/['"]/g,"")),g=n.data("country-restrict");function f(t){if(t){let a=`https://grader.owner.com/?placeid=${t}`,d=sessionStorage.getItem("utmWebParams");d&&(a+=`&${d}`),window.open(a)}}function V(){window.google&&window.google.maps?(i=new google.maps.places.AutocompleteService,l=new google.maps.places.PlacesService(document.createElement("div"))):console.error("Google Maps API not loaded")}function w(t){if(r=null,u=-1,t.length>0&&i){let a={input:t,types:h};g&&(a.componentRestrictions={country:g}),i.getPlacePredictions(a,(d,S)=>{x(d,S),d&&d.length>0&&setTimeout(()=>{o.is(":visible")&&o.find(".prediction-item").length>0&&I(0)},50)})}else o.html("").addClass("hidden")}function x(t,a){o.html(""),p=[],a===google.maps.places.PlacesServiceStatus.OK&&t&&t.length>0?(p=t,t.forEach((d,S)=>{let P=$(`
        <div class="prediction-item" data-place-id="${d.place_id}" data-index="${S}">
          <span class="main-text p13">${d.structured_formatting.main_text}</span>
          <span class="secondarytext p13 text-color-content-tertiary">${d.structured_formatting.secondary_text}</span>
        </div>
      `);o.append(P)}),o.removeClass("hidden")):o.addClass("hidden")}function I(t){let a=o.find(".prediction-item");if(a.length===0)return;t>=a.length?t=0:t<0&&(t=a.length-1),a.removeClass("selected");let d=a.eq(t).addClass("selected");u=t,r=d.data("place-id")}function b(t){let a=o.find(".prediction-item");if(a.length===0)return;t>=a.length?t=0:t<0&&(t=a.length-1),a.removeClass("selected");let d=a.eq(t).addClass("selected");u=t,r=d.data("place-id")}function A(t){t&&l&&l.getDetails({placeId:t},(a,d)=>{d===google.maps.places.PlacesServiceStatus.OK&&(n.trigger("placeSelected",[a]),n.val(a.name),o.addClass("hidden"),_(n,!1))})}function C(){let t=o.find(".prediction-item.selected");return t.length?(r=t.data("place-id"),A(r),f(r),!0):!1}let y;n.on("input",function(){clearTimeout(y),y=setTimeout(()=>{w($(this).val())},300)}),n.on("input",function(){clearTimeout(y),y=setTimeout(()=>{w($(this).val())},300)}),n.on("keydown",function(t){let a=t.which;if(a===13&&r)return t.preventDefault(),f(r),!1;if(!o.hasClass("hidden"))switch(a){case 38:t.preventDefault(),b(u-1);break;case 40:t.preventDefault(),b(u+1);break;case 13:t.preventDefault(),C();break;case 27:t.preventDefault(),o.addClass("hidden");break;case 9:if(u>=0){t.preventDefault();let d=o.find(".prediction-item.selected");d.length&&(r=d.data("place-id"),A(r))}break}}),o.on("click",".prediction-item",function(){r=$(this).data("place-id"),_(n,!1),A(r),f(r)}),o.on("mouseenter",".prediction-item",function(){u=parseInt($(this).data("index"),10),o.find(".prediction-item").removeClass("selected"),$(this).addClass("selected")}),$(document).on("click",function(t){!$(t.target).closest(e).length&&!$(t.target).is(n)&&(o.addClass("hidden"),n.val(""))}),$(".hp-grader_btn-submit").add(".hp-grader_btn-submit2").on("click",function(t){r?f(r):_(n,!0)}),V()}$(".hp-grader_input").on("focus",function(){swipers["hp-hero"][0].autoplay.stop()});$(".hp-grader_input").on("blur",function(){swipers["hp-hero"][0].autoplay.start()});function O(){document.querySelectorAll("[data-vimeo-player-init]").forEach(function(e,i){let l=e.getAttribute("data-vimeo-video-id");if(!l)return;let r=`https://player.vimeo.com/video/${l}?api=1&background=1&autoplay=0&loop=0&muted=1`;e.querySelector("iframe").setAttribute("src",r);let u="vimeo-player-index-"+i;e.setAttribute("id",u);let p=e.id,n=new Vimeo.Player(p),o;e.getAttribute("data-vimeo-update-size")==="true"&&n.getVideoWidth().then(function(s){n.getVideoHeight().then(function(m){o=m/s;let v=e.querySelector(".vimeo-player__before");v&&(v.style.paddingTop=o*100+"%")})});function h(){let s=e.offsetHeight/e.offsetWidth*100,m=e.querySelector(".vimeo-bg__iframe-wrapper");m&&o&&(s>o*100?m.style.width=`${s/(o*100)*100}%`:m.style.width="")}if(e.getAttribute("data-vimeo-update-size")==="true"?(h(),n.getVideoWidth().then(function(){n.getVideoHeight().then(function(){h()})})):h(),window.addEventListener("resize",h),n.on("play",function(){e.setAttribute("data-vimeo-loaded","true")}),e.getAttribute("data-vimeo-autoplay")==="false")n.setVolume(1),n.pause();else if(n.setVolume(0),e.setAttribute("data-vimeo-muted","true"),e.getAttribute("data-vimeo-paused-by-user")==="false"){let s=function(){let m=e.getBoundingClientRect();m.top<window.innerHeight&&m.bottom>0?g():f()};var L=s;s(),window.addEventListener("scroll",s)}function g(){e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-playing","true"),n.play()}function f(){e.setAttribute("data-vimeo-playing","false"),n.pause()}e.querySelectorAll('[data-vimeo-control="play"]').forEach(s=>{s.addEventListener("click",function(){n.setVolume(0),g();let m=e.getAttribute("data-vimeo-muted")==="true"?0:1;n.setVolume(m)})});let w=e.querySelector('[data-vimeo-control="pause"]');w&&w.addEventListener("click",function(){f(),e.getAttribute("data-vimeo-autoplay")==="true"&&(e.setAttribute("data-vimeo-paused-by-user","true"),window.removeEventListener("scroll",L))});let x=e.querySelector('[data-vimeo-control="mute"]');x&&x.addEventListener("click",function(){e.getAttribute("data-vimeo-muted")==="false"?(n.setVolume(0),e.setAttribute("data-vimeo-muted","true")):(n.setVolume(1),e.setAttribute("data-vimeo-muted","false"))});let I=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),b=e.querySelector('[data-vimeo-control="fullscreen"]');!I&&b&&(b.style.display="none"),b&&b.addEventListener("click",()=>{let s=document.getElementById(p);if(!s)return;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(e.setAttribute("data-vimeo-fullscreen","false"),(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)):(e.setAttribute("data-vimeo-fullscreen","true"),(s.requestFullscreen||s.webkitRequestFullscreen||s.mozRequestFullScreen||s.msRequestFullscreen).call(s))});let A=()=>{let s=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e.setAttribute("data-vimeo-fullscreen",s?"true":"false")};["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(s=>{document.addEventListener(s,A)});function C(s){let m=Math.floor(s/3600);s-=m*3600;let v=Math.floor(s/60);return s-=v*60,v+":"+(s<10?"0"+s:s)}let y=e.querySelector("[data-vimeo-duration]");n.getDuration().then(function(s){y&&(y.textContent=C(s)),e.querySelectorAll('[data-vimeo-control="timeline"], progress').forEach(v=>{v.setAttribute("max",s)})});let t=e.querySelector('[data-vimeo-control="timeline"]'),a=e.querySelector("progress");function d(){n.getDuration().then(function(){let s=t.value;n.setCurrentTime(s),a&&(a.value=s)})}t&&["input","change"].forEach(s=>{t.addEventListener(s,d)}),n.on("timeupdate",function(s){t&&(t.value=s.seconds),a&&(a.value=s.seconds),y&&(y.textContent=C(Math.trunc(s.seconds)))});let S;e.addEventListener("mousemove",function(){e.getAttribute("data-vimeo-hover")==="false"&&e.setAttribute("data-vimeo-hover","true"),clearTimeout(S),S=setTimeout(P,3e3)});function P(){e.setAttribute("data-vimeo-hover","false")}function T(){e.setAttribute("data-vimeo-activated","false"),e.setAttribute("data-vimeo-playing","false"),n.unload()}n.on("ended",T)})}O();function q(c){let e={container:"[data-ai-label]",strings:["Scan your site and see what isn\u2019t working","Find out how to get discovered on Google","See how much sales you could get from keywords","Compare yourself with your local competition"],duration:.5,stayDuration:2,yOffset:4,ease:"power3.out"},i=$.extend({},e,c),l=$(i.container);if(l.length===0){console.error("Animation container not found");return}l.empty(),l.css({position:"relative",display:"block",width:"100%"}),i.strings.forEach((n,o)=>{let h=$('<span class="loop-text"></span>');h.text(n),h.css({opacity:0,position:"absolute",top:0,left:0,width:"100%"}),l.append(h)});let r=0;l.find(".loop-text").each(function(){let n=$(this).outerHeight();n>r&&(r=n)}),l.css("height",r+"px");let u=l.find(".loop-text"),p=gsap.timeline({repeat:-1,repeatDelay:0});return gsap.set(u,{opacity:0,y:i.yOffset}),u.each((n,o)=>{p.to(o,{opacity:1,y:0,duration:i.duration,ease:i.ease}),p.to(o,{opacity:1,duration:i.stayDuration}),p.to(o,{opacity:0,y:-i.yOffset,duration:i.duration,ease:i.ease}),p.to({},{duration:.1})}),p}$(document).ready(function(){q()});$(document).ready(function(){let c,e;function i(){window.visualViewport?c=window.visualViewport.height:c=window.innerHeight,document.documentElement.style.setProperty("--real-viewport-height",`${c}px`);let l=$(".nav_wrap").outerHeight()||0,r=$(".hp-grader_form2-wrap").outerHeight()||0,u=parseInt($(".predictions-container").css("margin-bottom"))||0,p=parseInt($(".hp-grader_form2-wrap").css("bottom"))||0;e=c-l-r-u-p,document.documentElement.style.setProperty("--grader-list-height",`${e}px`)}i(),window.visualViewport?(window.visualViewport.addEventListener("resize",i),window.visualViewport.addEventListener("scroll",i)):$(window).on("resize",i),$(window).on("orientationchange",function(){setTimeout(i,100)})});})();
