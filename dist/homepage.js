"use strict";(()=>{var p=(t,e)=>{let n=$(`input[name="${t}"]`);n.attr("type")==="checkbox"?n.prop("checked",e):n.val(e)};var m=t=>{let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return e}},A=(t,e)=>{let n=typeof e=="object"?JSON.stringify(e):e;localStorage.setItem(t,n)};var F="restaurant",D=(t,e)=>{if(!t){Object.keys(e).forEach(a=>p(a,""));return}let n="",o="";t.address_components&&t.address_components.forEach(a=>{let l=a.types[0],c=e.address_components[l];if(c){let s=a[c];l==="route"?n=s:l==="street_number"?o=s:p(l,s)}}),p("restaurant-address",`${o} ${n}`)},H=t=>{if(!t||!t.types)return;let e=t.types.join(", ");p("place_types",e)},M=(t,e)=>{!t||!t.types||Object.keys(e).forEach(n=>{if(n==="address_components")return;let o=t[n];o&&p(n,o)})},I=t=>{let e={name:"",international_phone_number:"",website:"",place_id:"",url:"",rating:"",user_ratings_total:"",address_components:{street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"short_name",postal_code:"short_name"}};D(t,e),H(t),M(t,e)},q=()=>{let t=m(F);t&&(I(t),p("restaurant-name",m("restaurant-value")));let e={};$('input[name="restaurant-name"]').each(function(){let n=new google.maps.places.Autocomplete(this,e),o=$(this);console.log(o);function a(l){let c=l?n.getPlace():null,s=o.val();I(c),A("restaurant-value",s),A(F,c),p("restaurant-name",m("restaurant-value"))}n.addListener("place_changed",function(){a(!0),u(o,!1,$(o).attr("base-text"))}),o.on("change",function(){$(this).val()!==m("restaurant-value")&&a(!1)})})},C=!1,P=t=>{let e=JSON.parse(localStorage.getItem("restaurant"));if(console.log(e),e&&Array.isArray(e.types)){let n=["bar","cafe","bakery","food","restaurant"];return!e.types.some(a=>n.includes(a))&&!C?(u(t),C=!0,!1):!0}return!1};function E(t){let n=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,}$/.test($(t).val());return u($(t),!n,"Please fill correct email address."),n}function G(t){let e=!0;return e=W(t),console.log(e),e}function W(t){let e=P(t);return e?u($(t),!1):u($(t),!0),e}function N(t){let e,n=$(t).siblings(".select2"),o=$(t).siblings(".nice-select");n?e=n.find(".select2-selection--single"):o?e=$(o):e=$(t);let a=!0;return $(t).val()===""?(validArr.push(selectVal),$(e).addClass("is-invalid"),a=!1):$(e).removeClass("is-invalid"),a}function J(t){return u($(t),!1),!0}function U(t){return $(t).attr("name")==="restaurant-name"&&u($(t),!0,"Please select a business location from the search results."),u($(t),!0),!1}var O=t=>{let e=t,n=!0;return $(e).prop("required")&&($(e).val()?$(e).is('[type="email"]')?n=E(e):$(e).attr("name")==="restaurant-name"?n=G(e):$(e).is("select")?n=N(e):n=J(e):n=U(e)),n?u($(e),!1):$(e).addClass("error"),n},u=(t,e,n)=>{let o=$(t).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(t).closest(".form-field, [form-field]").toggleClass("error",e),o.toggle(e),n&&o.text(n)};var L=(t,e,n,o)=>{let a=".swiper_arrow",l=".swiper-navigation";$(t).each(function(){let c=$(this).index(),s=`${n}_${c}`;$(this).find(e).addClass(s),$(this).find(a).addClass(s),$(this).find(l).addClass(s);let d=Object.assign({},o,{speed:750,threshold:20,navigation:{prevEl:`${a}.prev.${s}`,nextEl:`${a}.next.${s}`},pagination:{el:`${l}.${s}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot"}});for(let v in o)v in d&&(d[v]=o[v]);let h=new Swiper(`${e}.${s}`,d);swipers[n]=swipers[n]||{},swipers[n][c]=h})};L(".section_hp-slider",".hp-slider_wrap","hp-hero",{slidesPerView:1,spaceBetween:12,autoplay:{delay:2e4},on:{autoplayStart:function(){$(".hp-slider_wrap .w-slider-dot").removeClass("stopped")},autoplayStop:function(){$(".hp-slider_wrap .w-slider-dot").addClass("stopped")}}});q();function K(){let t=!0;return $(".hp-slider_item-form form").find(":input:visible, select").each(function(){let e=O($(this));t=t&&e}),t}$(".hp-grader_btn-submit").on("click",function(t){if(t.preventDefault(),K()){let n=m("restaurant");window.open(`https://grader.owner.com/?placeid=${n.place_id}`,"_blank")}});$(".hp-grader_input").on("focus",function(){swipers["hp-hero"][0].autoplay.stop()});$(".hp-grader_input").on("blur",function(){swipers["hp-hero"][0].autoplay.start()});function Q(){document.querySelectorAll("[data-vimeo-player-init]").forEach(function(e,n){console.log(e);let o=e.getAttribute("data-vimeo-video-id");if(!o)return;let a=`https://player.vimeo.com/video/${o}?api=1&background=1&autoplay=0&loop=0&muted=1`;e.querySelector("iframe").setAttribute("src",a);let l="vimeo-player-index-"+n;e.setAttribute("id",l);let c=e.id,s=new Vimeo.Player(c),d;e.getAttribute("data-vimeo-update-size")==="true"&&s.getVideoWidth().then(function(r){s.getVideoHeight().then(function(i){d=i/r;let f=e.querySelector(".vimeo-player__before");f&&(f.style.paddingTop=d*100+"%")})});function h(){let r=e.offsetHeight/e.offsetWidth*100,i=e.querySelector(".vimeo-bg__iframe-wrapper");i&&d&&(r>d*100?i.style.width=`${r/(d*100)*100}%`:i.style.width="")}if(e.getAttribute("data-vimeo-update-size")==="true"?(h(),s.getVideoWidth().then(function(){s.getVideoHeight().then(function(){h()})})):h(),window.addEventListener("resize",h),s.on("play",function(){e.setAttribute("data-vimeo-loaded","true")}),e.getAttribute("data-vimeo-autoplay")==="false")s.setVolume(1),s.pause();else if(s.setVolume(0),e.setAttribute("data-vimeo-muted","true"),e.getAttribute("data-vimeo-paused-by-user")==="false"){let r=function(){let i=e.getBoundingClientRect();i.top<window.innerHeight&&i.bottom>0?v():V()};var Y=r;r(),window.addEventListener("scroll",r)}function v(){e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-playing","true"),s.play()}function V(){e.setAttribute("data-vimeo-playing","false"),s.pause()}e.querySelectorAll('[data-vimeo-control="play"]').forEach(r=>{r.addEventListener("click",function(){s.setVolume(0),v();let i=e.getAttribute("data-vimeo-muted")==="true"?0:1;s.setVolume(i)})});let _=e.querySelector('[data-vimeo-control="pause"]');_&&_.addEventListener("click",function(){V(),e.getAttribute("data-vimeo-autoplay")==="true"&&(e.setAttribute("data-vimeo-paused-by-user","true"),window.removeEventListener("scroll",Y))});let S=e.querySelector('[data-vimeo-control="mute"]');S&&S.addEventListener("click",function(){e.getAttribute("data-vimeo-muted")==="false"?(s.setVolume(0),e.setAttribute("data-vimeo-muted","true")):(s.setVolume(1),e.setAttribute("data-vimeo-muted","false"))});let T=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),y=e.querySelector('[data-vimeo-control="fullscreen"]');!T&&y&&(y.style.display="none"),y&&y.addEventListener("click",()=>{let r=document.getElementById(c);if(!r)return;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(e.setAttribute("data-vimeo-fullscreen","false"),(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)):(e.setAttribute("data-vimeo-fullscreen","true"),(r.requestFullscreen||r.webkitRequestFullscreen||r.mozRequestFullScreen||r.msRequestFullscreen).call(r))});let R=()=>{let r=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e.setAttribute("data-vimeo-fullscreen",r?"true":"false")};["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(r=>{document.addEventListener(r,R)});function x(r){let i=Math.floor(r/3600);r-=i*3600;let f=Math.floor(r/60);return r-=f*60,f+":"+(r<10?"0"+r:r)}let b=e.querySelector("[data-vimeo-duration]");s.getDuration().then(function(r){b&&(b.textContent=x(r)),e.querySelectorAll('[data-vimeo-control="timeline"], progress').forEach(f=>{f.setAttribute("max",r)})});let g=e.querySelector('[data-vimeo-control="timeline"]'),w=e.querySelector("progress");function z(){s.getDuration().then(function(){let r=g.value;s.setCurrentTime(r),w&&(w.value=r)})}g&&["input","change"].forEach(r=>{g.addEventListener(r,z)}),s.on("timeupdate",function(r){g&&(g.value=r.seconds),w&&(w.value=r.seconds),b&&(b.textContent=x(Math.trunc(r.seconds)))});let k;e.addEventListener("mousemove",function(){e.getAttribute("data-vimeo-hover")==="false"&&e.setAttribute("data-vimeo-hover","true"),clearTimeout(k),k=setTimeout(B,3e3)});function B(){e.setAttribute("data-vimeo-hover","false")}function j(){e.setAttribute("data-vimeo-activated","false"),e.setAttribute("data-vimeo-playing","false"),s.unload()}s.on("ended",j)})}Q();})();
