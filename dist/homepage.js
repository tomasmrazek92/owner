"use strict";(()=>{var A=(d,e,o)=>{let l=$(d).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(d).closest(".form-field, [form-field]").toggleClass("error",e),l.toggle(e),o&&l.text(o)};var V=(d,e,o,l)=>{let r=".swiper_arrow",u=".swiper-navigation";$(d).each(function(){let p=$(this).index(),n=`${o}_${p}`;$(this).find(e).addClass(n),$(this).find(r).addClass(n),$(this).find(u).addClass(n);let a=Object.assign({},l,{speed:750,threshold:20,navigation:{prevEl:`${r}.prev.${n}`,nextEl:`${r}.next.${n}`},pagination:{el:`${u}.${n}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot",clickable:!0}}),h=l&&l.autoplay;if(h){let f={...l.autoplay};delete a.autoplay}for(let f in l)f in a&&f!=="autoplay"&&(a[f]=l[f]);let y=new Swiper(`${e}.${n}`,a);if(h){let f=$(this).find(`${e}.${n}`)[0];new IntersectionObserver(b=>{b.forEach(S=>{S.isIntersecting?(y.params.autoplay=l.autoplay,y.autoplay.start()):y.autoplay.stop()})},{threshold:.1}).observe(f)}swipers[o]=swipers[o]||{},swipers[o][p]=y})};V(".section_hp-slider",".hp-slider_wrap","hp-hero",{slidesPerView:1,spaceBetween:12,threshold:40,autoplay:{delay:2e4},on:{autoplayStart:function(){$(".hp-slider_wrap .w-slider-dot").removeClass("stopped")},autoplayStop:function(){$(".hp-slider_wrap .w-slider-dot").addClass("stopped")},slideChange:function(d){let o=$(d.slides).eq(d.realIndex).find(".w-background-video video");o.length&&!o.hasClass("playing")&&(o.addClass("playing"),o[0].play())}}});V(".section_exp-tabs",".exp-tabs_tabs","exp-tabs-menu",{slidesPerView:1,spaceBetween:20,slideToClickedSlide:!0,autoplay:{delay:7e3},on:{autoplayStart:function(){$(".swiper-slide-active .exp-tabs_tabs-progress-line").removeClass("stopped")},autoplayStop:function(){$(".swiper-slide-active .exp-tabs_tabs-progress-line").addClass("stopped")},slideChange:function(d){let e=Object.keys(swipers["exp-tabs-content"])[0];swipers["exp-tabs-content"][e].slideTo(d.realIndex)}},breakpoints:{0:{spaceBetween:16},992:{spaceBetween:20}}});V(".exp-tabs_slider-box",".exp-tabs_slider","exp-tabs-content",{slidesPerView:1,spaceBetween:0,on:{slideChange:function(d){if(window.innerWidth<992){let e=Object.keys(swipers["exp-tabs-menu"])[0];swipers["exp-tabs-menu"][e].slideTo(d.realIndex)}}},breakpoints:{0:{spaceBetween:10,allowTouchMove:!0},992:{spaceBetween:0,allowTouchMove:!1}}});$(document).ready(function(){F("#grader-name",".predictions-container")});function F(d,e){let o,l,r,u=-1,p=[],n=$(d),a=$(e);if(!n.length)return;let h=n.data("place-types").split(",").map(t=>t.trim().replace(/['"]/g,"")),y=n.data("country-restrict");function f(t){if(t){let i=`https://grader.owner.com/?placeid=${t}`,c;try{c=JSON.parse(sessionStorage.getItem("utmWebParams"))}catch{c=null}if(c&&typeof c=="object"){let g=[];for(let C in c)c.hasOwnProperty(C)&&g.push(`${encodeURIComponent(C)}=${encodeURIComponent(c[C])}`);g.length>0&&(i+=`&${g.join("&")}`)}window.open(i)}}function I(){window.google&&window.google.maps?(o=new google.maps.places.AutocompleteService,l=new google.maps.places.PlacesService(document.createElement("div"))):console.error("Google Maps API not loaded")}function b(t){if(r=null,u=-1,t.length>0&&o){let i={input:t,types:h};y&&(i.componentRestrictions={country:y}),o.getPlacePredictions(i,(c,g)=>{S(c,g),c&&c.length>0&&setTimeout(()=>{a.is(":visible")&&a.find(".prediction-item").length>0&&P(0)},50)})}else a.html("").addClass("hidden")}function S(t,i){a.html(""),p=[],i===google.maps.places.PlacesServiceStatus.OK&&t&&t.length>0?(p=t,t.forEach((c,g)=>{let C=$(`
        <div class="prediction-item" data-place-id="${c.place_id}" data-index="${g}">
          <span class="main-text p13">${c.structured_formatting.main_text}</span>
          <span class="secondarytext p13 text-color-content-tertiary">${c.structured_formatting.secondary_text}</span>
        </div>
      `);a.append(C)}),a.removeClass("hidden")):a.addClass("hidden")}function P(t){let i=a.find(".prediction-item");if(i.length===0)return;t>=i.length?t=0:t<0&&(t=i.length-1),i.removeClass("selected");let c=i.eq(t).addClass("selected");u=t,r=c.data("place-id")}function x(t){let i=a.find(".prediction-item");if(i.length===0)return;t>=i.length?t=0:t<0&&(t=i.length-1),i.removeClass("selected");let c=i.eq(t).addClass("selected");u=t,r=c.data("place-id")}function k(t){t&&l&&l.getDetails({placeId:t},(i,c)=>{c===google.maps.places.PlacesServiceStatus.OK&&(n.trigger("placeSelected",[i]),n.val(i.name),a.addClass("hidden"),A(n,!1))})}function _(){let t=a.find(".prediction-item.selected");return t.length?(r=t.data("place-id"),k(r),f(r),!0):!1}let v;n.on("input",function(){clearTimeout(v),v=setTimeout(()=>{b($(this).val())},300)}),n.on("input",function(){clearTimeout(v),v=setTimeout(()=>{b($(this).val())},300)}),n.on("keydown",function(t){let i=t.which;if(i===13&&r)return t.preventDefault(),f(r),!1;if(!a.hasClass("hidden"))switch(i){case 38:t.preventDefault(),x(u-1);break;case 40:t.preventDefault(),x(u+1);break;case 13:t.preventDefault(),_();break;case 27:t.preventDefault(),a.addClass("hidden");break;case 9:if(u>=0){t.preventDefault();let c=a.find(".prediction-item.selected");c.length&&(r=c.data("place-id"),k(r))}break}}),a.on("click",".prediction-item",function(){r=$(this).data("place-id"),A(n,!1),k(r),f(r)}),a.on("mouseenter",".prediction-item",function(){u=parseInt($(this).data("index"),10),a.find(".prediction-item").removeClass("selected"),$(this).addClass("selected")}),$(document).on("click",function(t){!$(t.target).closest(e).length&&!$(t.target).is(n)&&(a.addClass("hidden"),n.val(""))}),$(".hp-grader_btn-submit").add(".hp-grader_btn-submit2").on("click",function(t){r?f(r):A(n,!0)}),I()}$(".hp-grader_input").on("focus",function(){swipers["hp-hero"][0].autoplay.stop()});$(".hp-grader_input").on("blur",function(){swipers["hp-hero"][0].autoplay.start()});function O(){document.querySelectorAll("[data-vimeo-player-init]").forEach(function(e,o){let l=e.getAttribute("data-vimeo-video-id");if(!l)return;let r=`https://player.vimeo.com/video/${l}?api=1&background=1&autoplay=0&loop=0&muted=1`;e.querySelector("iframe").setAttribute("src",r);let u="vimeo-player-index-"+o;e.setAttribute("id",u);let p=e.id,n=new Vimeo.Player(p),a;e.getAttribute("data-vimeo-update-size")==="true"&&n.getVideoWidth().then(function(s){n.getVideoHeight().then(function(m){a=m/s;let w=e.querySelector(".vimeo-player__before");w&&(w.style.paddingTop=a*100+"%")})});function h(){let s=e.offsetHeight/e.offsetWidth*100,m=e.querySelector(".vimeo-bg__iframe-wrapper");m&&a&&(s>a*100?m.style.width=`${s/(a*100)*100}%`:m.style.width="")}if(e.getAttribute("data-vimeo-update-size")==="true"?(h(),n.getVideoWidth().then(function(){n.getVideoHeight().then(function(){h()})})):h(),window.addEventListener("resize",h),n.on("play",function(){e.setAttribute("data-vimeo-loaded","true")}),e.getAttribute("data-vimeo-autoplay")==="false")n.setVolume(1),n.pause();else if(n.setVolume(0),e.setAttribute("data-vimeo-muted","true"),e.getAttribute("data-vimeo-paused-by-user")==="false"){let s=function(){let m=e.getBoundingClientRect();m.top<window.innerHeight&&m.bottom>0?y():f()};var R=s;s(),window.addEventListener("scroll",s)}function y(){e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-playing","true"),n.play()}function f(){e.setAttribute("data-vimeo-playing","false"),n.pause()}e.querySelectorAll('[data-vimeo-control="play"]').forEach(s=>{s.addEventListener("click",function(){n.setVolume(0),y();let m=e.getAttribute("data-vimeo-muted")==="true"?0:1;n.setVolume(m)})});let b=e.querySelector('[data-vimeo-control="pause"]');b&&b.addEventListener("click",function(){f(),e.getAttribute("data-vimeo-autoplay")==="true"&&(e.setAttribute("data-vimeo-paused-by-user","true"),window.removeEventListener("scroll",R))});let S=e.querySelector('[data-vimeo-control="mute"]');S&&S.addEventListener("click",function(){e.getAttribute("data-vimeo-muted")==="false"?(n.setVolume(0),e.setAttribute("data-vimeo-muted","true")):(n.setVolume(1),e.setAttribute("data-vimeo-muted","false"))});let P=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),x=e.querySelector('[data-vimeo-control="fullscreen"]');!P&&x&&(x.style.display="none"),x&&x.addEventListener("click",()=>{let s=document.getElementById(p);if(!s)return;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(e.setAttribute("data-vimeo-fullscreen","false"),(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)):(e.setAttribute("data-vimeo-fullscreen","true"),(s.requestFullscreen||s.webkitRequestFullscreen||s.mozRequestFullScreen||s.msRequestFullscreen).call(s))});let k=()=>{let s=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e.setAttribute("data-vimeo-fullscreen",s?"true":"false")};["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(s=>{document.addEventListener(s,k)});function _(s){let m=Math.floor(s/3600);s-=m*3600;let w=Math.floor(s/60);return s-=w*60,w+":"+(s<10?"0"+s:s)}let v=e.querySelector("[data-vimeo-duration]");n.getDuration().then(function(s){v&&(v.textContent=_(s)),e.querySelectorAll('[data-vimeo-control="timeline"], progress').forEach(w=>{w.setAttribute("max",s)})});let t=e.querySelector('[data-vimeo-control="timeline"]'),i=e.querySelector("progress");function c(){n.getDuration().then(function(){let s=t.value;n.setCurrentTime(s),i&&(i.value=s)})}t&&["input","change"].forEach(s=>{t.addEventListener(s,c)}),n.on("timeupdate",function(s){t&&(t.value=s.seconds),i&&(i.value=s.seconds),v&&(v.textContent=_(Math.trunc(s.seconds)))});let g;e.addEventListener("mousemove",function(){e.getAttribute("data-vimeo-hover")==="false"&&e.setAttribute("data-vimeo-hover","true"),clearTimeout(g),g=setTimeout(C,3e3)});function C(){e.setAttribute("data-vimeo-hover","false")}function T(){e.setAttribute("data-vimeo-activated","false"),e.setAttribute("data-vimeo-playing","false"),n.unload()}n.on("ended",T)})}O();function q(d){let e={container:"[data-ai-label]",strings:["Scan your site and see what isn\u2019t working","Find out how to get discovered on Google","See how much sales you could get from keywords","Compare yourself with your local competition"],duration:.5,stayDuration:2,yOffset:4,ease:"power3.out"},o=$.extend({},e,d),l=$(o.container);if(l.length===0){console.error("Animation container not found");return}l.empty(),l.css({position:"relative",display:"block",width:"100%"}),o.strings.forEach((n,a)=>{let h=$('<span class="loop-text"></span>');h.text(n),h.css({opacity:0,position:"absolute",top:0,left:0,width:"100%"}),l.append(h)});let r=0;l.find(".loop-text").each(function(){let n=$(this).outerHeight();n>r&&(r=n)}),l.css("height",r+"px");let u=l.find(".loop-text"),p=gsap.timeline({repeat:-1,repeatDelay:0});return gsap.set(u,{opacity:0,y:o.yOffset}),u.each((n,a)=>{p.to(a,{opacity:1,y:0,duration:o.duration,ease:o.ease}),p.to(a,{opacity:1,duration:o.stayDuration}),p.to(a,{opacity:0,y:-o.yOffset,duration:o.duration,ease:o.ease}),p.to({},{duration:.1})}),p}$(document).ready(function(){q()});$(document).ready(function(){let d,e;function o(){window.visualViewport?d=window.visualViewport.height:d=window.innerHeight,document.documentElement.style.setProperty("--real-viewport-height",`${d}px`);let l=$(".nav_wrap").outerHeight()||0,r=$(".hp-grader_form2-wrap").outerHeight()||0,u=parseInt($(".predictions-container").css("margin-bottom"))||0,p=parseInt($(".hp-grader_form2-wrap").css("bottom"))||0;e=d-l-r-u-p,document.documentElement.style.setProperty("--grader-list-height",`${e}px`)}o(),window.visualViewport?(window.visualViewport.addEventListener("resize",o),window.visualViewport.addEventListener("scroll",o)):$(window).on("resize",o),$(window).on("orientationchange",function(){setTimeout(o,100)})});})();
