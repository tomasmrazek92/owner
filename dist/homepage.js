"use strict";(()=>{var C=(c,e,a)=>{let l=$(c).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(c).closest(".form-field, [form-field]").toggleClass("error",e),l.toggle(e),a&&l.text(a)};var V=(c,e,a,l)=>{let r=".swiper_arrow",u=".swiper-navigation";$(c).each(function(){let p=$(this).index(),n=`${a}_${p}`;$(this).find(e).addClass(n),$(this).find(r).addClass(n),$(this).find(u).addClass(n);let i=Object.assign({},l,{speed:750,threshold:20,navigation:{prevEl:`${r}.prev.${n}`,nextEl:`${r}.next.${n}`},pagination:{el:`${u}.${n}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot",clickable:!0}}),h=l&&l.autoplay;if(h){let f={...l.autoplay};delete i.autoplay}for(let f in l)f in i&&f!=="autoplay"&&(i[f]=l[f]);let g=new Swiper(`${e}.${n}`,i);if(h){let f=$(this).find(`${e}.${n}`)[0];new IntersectionObserver(b=>{b.forEach(S=>{S.isIntersecting?(g.params.autoplay=l.autoplay,g.autoplay.start()):g.autoplay.stop()})},{threshold:.1}).observe(f)}swipers[a]=swipers[a]||{},swipers[a][p]=g})};V(".section_hp-slider",".hp-slider_wrap","hp-hero",{slidesPerView:1,spaceBetween:12,threshold:40,autoplay:{delay:2e4},on:{autoplayStart:function(){$(".hp-slider_wrap .w-slider-dot").removeClass("stopped")},autoplayStop:function(){$(".hp-slider_wrap .w-slider-dot").addClass("stopped")},slideChange:function(c){let a=$(c.slides).eq(c.realIndex).find(".w-background-video video");a.length&&!a.hasClass("playing")&&(a.addClass("playing"),a[0].play())}}});V(".section_exp-tabs",".exp-tabs_tabs","exp-tabs-menu",{slidesPerView:1,spaceBetween:20,slideToClickedSlide:!0,autoplay:{delay:7e3},on:{autoplayStart:function(){$(".swiper-slide-active .exp-tabs_tabs-progress-line").removeClass("stopped")},autoplayStop:function(){$(".swiper-slide-active .exp-tabs_tabs-progress-line").addClass("stopped")},slideChange:function(c){let e=Object.keys(swipers["exp-tabs-content"])[0];swipers["exp-tabs-content"][e].slideTo(c.realIndex)}},breakpoints:{0:{spaceBetween:16},992:{spaceBetween:20}}});V(".exp-tabs_slider-box",".exp-tabs_slider","exp-tabs-content",{slidesPerView:1,spaceBetween:0,on:{slideChange:function(c){if(window.innerWidth<992){let e=Object.keys(swipers["exp-tabs-menu"])[0];swipers["exp-tabs-menu"][e].slideTo(c.realIndex)}}},breakpoints:{0:{spaceBetween:10,allowTouchMove:!0},992:{spaceBetween:0,allowTouchMove:!1}}});$(document).ready(function(){F("#grader-name",".predictions-container")});function F(c,e){let a,l,r,u=-1,p=[],n=$(c),i=$(e);if(!n.length)return;let h=n.data("place-types").split(",").map(t=>t.trim().replace(/['"]/g,"")),g=n.data("country-restrict");function f(t){if(t){let o=new URLSearchParams(window.location.search),d=[];o.forEach((_,T)=>{d.push(`${T}=${_}`)});let v=`https://grader.owner.com/?placeid=${t}&${d.join("&")}`;window.open(v)}}function I(){window.google&&window.google.maps?(a=new google.maps.places.AutocompleteService,l=new google.maps.places.PlacesService(document.createElement("div"))):console.error("Google Maps API not loaded")}function b(t){if(r=null,u=-1,t.length>0&&a){let o={input:t,types:h};g&&(o.componentRestrictions={country:g}),a.getPlacePredictions(o,(d,v)=>{S(d,v),d&&d.length>0&&setTimeout(()=>{i.is(":visible")&&i.find(".prediction-item").length>0&&P(0)},50)})}else i.html("").addClass("hidden")}function S(t,o){i.html(""),p=[],o===google.maps.places.PlacesServiceStatus.OK&&t&&t.length>0?(p=t,t.forEach((d,v)=>{let _=$(`
        <div class="prediction-item" data-place-id="${d.place_id}" data-index="${v}">
          <span class="main-text p13">${d.structured_formatting.main_text}</span>
          <span class="secondarytext p13 text-color-content-tertiary">${d.structured_formatting.secondary_text}</span>
        </div>
      `);i.append(_)}),i.removeClass("hidden")):i.addClass("hidden")}function P(t){let o=i.find(".prediction-item");if(o.length===0)return;t>=o.length?t=0:t<0&&(t=o.length-1),o.removeClass("selected");let d=o.eq(t).addClass("selected");u=t,r=d.data("place-id")}function x(t){let o=i.find(".prediction-item");if(o.length===0)return;t>=o.length?t=0:t<0&&(t=o.length-1),o.removeClass("selected");let d=o.eq(t).addClass("selected");u=t,r=d.data("place-id")}function A(t){t&&l&&l.getDetails({placeId:t},(o,d)=>{d===google.maps.places.PlacesServiceStatus.OK&&(n.trigger("placeSelected",[o]),n.val(o.name),i.addClass("hidden"),C(n,!1))})}function k(){let t=i.find(".prediction-item.selected");return t.length?(r=t.data("place-id"),A(r),f(r),!0):!1}let y;n.on("input",function(){clearTimeout(y),y=setTimeout(()=>{b($(this).val())},300)}),n.on("input",function(){clearTimeout(y),y=setTimeout(()=>{b($(this).val())},300)}),n.on("keydown",function(t){let o=t.which;if(o===13&&r)return t.preventDefault(),f(r),!1;if(!i.hasClass("hidden"))switch(o){case 38:t.preventDefault(),x(u-1);break;case 40:t.preventDefault(),x(u+1);break;case 13:t.preventDefault(),k();break;case 27:t.preventDefault(),i.addClass("hidden");break;case 9:if(u>=0){t.preventDefault();let d=i.find(".prediction-item.selected");d.length&&(r=d.data("place-id"),A(r))}break}}),i.on("click",".prediction-item",function(){r=$(this).data("place-id"),C(n,!1),A(r),f(r)}),i.on("mouseenter",".prediction-item",function(){u=parseInt($(this).data("index"),10),i.find(".prediction-item").removeClass("selected"),$(this).addClass("selected")}),$(document).on("click",function(t){!$(t.target).closest(e).length&&!$(t.target).is(n)&&(i.addClass("hidden"),n.val(""))}),$(".hp-grader_btn-submit").add(".hp-grader_btn-submit2").on("click",function(t){r?f(r):C(n,!0)}),I()}$(".hp-grader_input").on("focus",function(){swipers["hp-hero"][0].autoplay.stop()});$(".hp-grader_input").on("blur",function(){swipers["hp-hero"][0].autoplay.start()});function O(){document.querySelectorAll("[data-vimeo-player-init]").forEach(function(e,a){let l=e.getAttribute("data-vimeo-video-id");if(!l)return;let r=`https://player.vimeo.com/video/${l}?api=1&background=1&autoplay=0&loop=0&muted=1`;e.querySelector("iframe").setAttribute("src",r);let u="vimeo-player-index-"+a;e.setAttribute("id",u);let p=e.id,n=new Vimeo.Player(p),i;e.getAttribute("data-vimeo-update-size")==="true"&&n.getVideoWidth().then(function(s){n.getVideoHeight().then(function(m){i=m/s;let w=e.querySelector(".vimeo-player__before");w&&(w.style.paddingTop=i*100+"%")})});function h(){let s=e.offsetHeight/e.offsetWidth*100,m=e.querySelector(".vimeo-bg__iframe-wrapper");m&&i&&(s>i*100?m.style.width=`${s/(i*100)*100}%`:m.style.width="")}if(e.getAttribute("data-vimeo-update-size")==="true"?(h(),n.getVideoWidth().then(function(){n.getVideoHeight().then(function(){h()})})):h(),window.addEventListener("resize",h),n.on("play",function(){e.setAttribute("data-vimeo-loaded","true")}),e.getAttribute("data-vimeo-autoplay")==="false")n.setVolume(1),n.pause();else if(n.setVolume(0),e.setAttribute("data-vimeo-muted","true"),e.getAttribute("data-vimeo-paused-by-user")==="false"){let s=function(){let m=e.getBoundingClientRect();m.top<window.innerHeight&&m.bottom>0?g():f()};var L=s;s(),window.addEventListener("scroll",s)}function g(){e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-playing","true"),n.play()}function f(){e.setAttribute("data-vimeo-playing","false"),n.pause()}e.querySelectorAll('[data-vimeo-control="play"]').forEach(s=>{s.addEventListener("click",function(){n.setVolume(0),g();let m=e.getAttribute("data-vimeo-muted")==="true"?0:1;n.setVolume(m)})});let b=e.querySelector('[data-vimeo-control="pause"]');b&&b.addEventListener("click",function(){f(),e.getAttribute("data-vimeo-autoplay")==="true"&&(e.setAttribute("data-vimeo-paused-by-user","true"),window.removeEventListener("scroll",L))});let S=e.querySelector('[data-vimeo-control="mute"]');S&&S.addEventListener("click",function(){e.getAttribute("data-vimeo-muted")==="false"?(n.setVolume(0),e.setAttribute("data-vimeo-muted","true")):(n.setVolume(1),e.setAttribute("data-vimeo-muted","false"))});let P=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),x=e.querySelector('[data-vimeo-control="fullscreen"]');!P&&x&&(x.style.display="none"),x&&x.addEventListener("click",()=>{let s=document.getElementById(p);if(!s)return;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(e.setAttribute("data-vimeo-fullscreen","false"),(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)):(e.setAttribute("data-vimeo-fullscreen","true"),(s.requestFullscreen||s.webkitRequestFullscreen||s.mozRequestFullScreen||s.msRequestFullscreen).call(s))});let A=()=>{let s=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e.setAttribute("data-vimeo-fullscreen",s?"true":"false")};["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(s=>{document.addEventListener(s,A)});function k(s){let m=Math.floor(s/3600);s-=m*3600;let w=Math.floor(s/60);return s-=w*60,w+":"+(s<10?"0"+s:s)}let y=e.querySelector("[data-vimeo-duration]");n.getDuration().then(function(s){y&&(y.textContent=k(s)),e.querySelectorAll('[data-vimeo-control="timeline"], progress').forEach(w=>{w.setAttribute("max",s)})});let t=e.querySelector('[data-vimeo-control="timeline"]'),o=e.querySelector("progress");function d(){n.getDuration().then(function(){let s=t.value;n.setCurrentTime(s),o&&(o.value=s)})}t&&["input","change"].forEach(s=>{t.addEventListener(s,d)}),n.on("timeupdate",function(s){t&&(t.value=s.seconds),o&&(o.value=s.seconds),y&&(y.textContent=k(Math.trunc(s.seconds)))});let v;e.addEventListener("mousemove",function(){e.getAttribute("data-vimeo-hover")==="false"&&e.setAttribute("data-vimeo-hover","true"),clearTimeout(v),v=setTimeout(_,3e3)});function _(){e.setAttribute("data-vimeo-hover","false")}function T(){e.setAttribute("data-vimeo-activated","false"),e.setAttribute("data-vimeo-playing","false"),n.unload()}n.on("ended",T)})}O();function q(c){let e={container:"[data-ai-label]",strings:["Scan your site and see what isn\u2019t working","Find out how to get discovered on Google","Calculate how much more you could earn","Compare yourself with your local competition"],duration:.5,stayDuration:2,yOffset:4,ease:"power3.out"},a=$.extend({},e,c),l=$(a.container);if(l.length===0){console.error("Animation container not found");return}l.empty(),l.css({position:"relative",display:"block",width:"100%"}),a.strings.forEach((n,i)=>{let h=$('<span class="loop-text"></span>');h.text(n),h.css({opacity:0,position:"absolute",top:0,left:0,width:"100%"}),l.append(h)});let r=0;l.find(".loop-text").each(function(){let n=$(this).outerHeight();n>r&&(r=n)}),l.css("height",r+"px");let u=l.find(".loop-text"),p=gsap.timeline({repeat:-1,repeatDelay:0});return gsap.set(u,{opacity:0,y:a.yOffset}),u.each((n,i)=>{p.to(i,{opacity:1,y:0,duration:a.duration,ease:a.ease}),p.to(i,{opacity:1,duration:a.stayDuration}),p.to(i,{opacity:0,y:-a.yOffset,duration:a.duration,ease:a.ease}),p.to({},{duration:.1})}),p}$(document).ready(function(){q()});$(document).ready(function(){let c,e;function a(){window.visualViewport?c=window.visualViewport.height:c=window.innerHeight,document.documentElement.style.setProperty("--real-viewport-height",`${c}px`);let l=$(".nav_wrap").outerHeight()||0,r=$(".hp-grader_form2-wrap").outerHeight()||0,u=parseInt($(".predictions-container").css("margin-bottom"))||0,p=parseInt($(".hp-grader_form2-wrap").css("bottom"))||0;e=c-l-r-u-p,document.documentElement.style.setProperty("--grader-list-height",`${e}px`)}a(),window.visualViewport?(window.visualViewport.addEventListener("resize",a),window.visualViewport.addEventListener("scroll",a)):$(window).on("resize",a),$(window).on("orientationchange",function(){setTimeout(a,100)})});})();
