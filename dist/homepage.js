"use strict";(()=>{var V=(f,e,o)=>{let r=$(f).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(f).closest(".form-field, [form-field]").toggleClass("error",e),r.toggle(e),o&&r.text(o)};var k=(f,e,o,r)=>{let l=".swiper_arrow",c=".swiper-navigation";$(f).each(function(){let a=$(this).index(),n=`${o}_${a}`;$(this).find(e).addClass(n),$(this).find(l).addClass(n),$(this).find(c).addClass(n);let u=Object.assign({},r,{speed:750,threshold:20,navigation:{prevEl:`${l}.prev.${n}`,nextEl:`${l}.next.${n}`},pagination:{el:`${c}.${n}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot",clickable:!0}});for(let g in r)g in u&&(u[g]=r[g]);let p=new Swiper(`${e}.${n}`,u);swipers[o]=swipers[o]||{},swipers[o][a]=p})};k(".section_hp-slider",".hp-slider_wrap","hp-hero",{slidesPerView:1,spaceBetween:12,autoplay:{delay:2e4},on:{autoplayStart:function(){$(".hp-slider_wrap .w-slider-dot").removeClass("stopped")},autoplayStop:function(){$(".hp-slider_wrap .w-slider-dot").addClass("stopped")},slideChange:function(f){let o=$(f.slides).eq(f.realIndex).find(".w-background-video video");o.length&&!o.hasClass("playing")&&(o.addClass("playing"),o[0].play())}}});$(document).ready(function(){T("#grader-name",".predictions-container")});function T(f,e){let o,r,l,c=$(f),a=$(e),n=c.data("place-types").split(",").map(s=>s.trim().replace(/['"]/g,"")),u=c.data("country-restrict");function p(s){s&&window.open(`https://grader.owner.com/?placeid=${s}&utm_source=homepage`,"_blank")}function g(){window.google&&window.google.maps?(o=new google.maps.places.AutocompleteService,r=new google.maps.places.PlacesService(document.createElement("div"))):console.error("Google Maps API not loaded")}function w(s){if(l=null,s.length>0&&o){let d={input:s,types:n};u&&(d.componentRestrictions={country:u}),o.getPlacePredictions(d,(m,v)=>{x(m,v)})}else a.html("").addClass("hidden")}function x(s,d){a.html(""),d===google.maps.places.PlacesServiceStatus.OK&&s&&s.length>0?(s.forEach(m=>{let v=$(`
          <div class="prediction-item" data-place-id="${m.place_id}">
            <span class="main-text p13">${m.structured_formatting.main_text}</span>
            <span class="secondarytext p13 text-color-content-tertiary">${m.structured_formatting.secondary_text}</span>
          </div>
        `);a.append(v)}),a.removeClass("hidden")):a.addClass("hidden")}function A(s){s&&r&&r.getDetails({placeId:s},(d,m)=>{m===google.maps.places.PlacesServiceStatus.OK&&(c.trigger("placeSelected",[d]),c.val(d.name),console.log(s),a.addClass("hidden"))})}let y;c.on("input",function(){clearTimeout(y),y=setTimeout(()=>{w($(this).val())},300)}),a.on("click",".prediction-item",function(){l=$(this).data("place-id"),V(c,!1),A(l),p(l)}),$(document).on("click",function(s){!$(s.target).closest(e).length&&!$(s.target).is(c)&&a.addClass("hidden")}),$(".hp-grader_btn-submit").on("click",function(s){l?p(l):V(c,!0)}),g()}$(".hp-grader_input").on("focus",function(){swipers["hp-hero"][0].autoplay.stop()});$(".hp-grader_input").on("blur",function(){swipers["hp-hero"][0].autoplay.start()});function q(){document.querySelectorAll("[data-vimeo-player-init]").forEach(function(e,o){let r=e.getAttribute("data-vimeo-video-id");if(!r)return;let l=`https://player.vimeo.com/video/${r}?api=1&background=1&autoplay=0&loop=0&muted=1`;e.querySelector("iframe").setAttribute("src",l);let c="vimeo-player-index-"+o;e.setAttribute("id",c);let a=e.id,n=new Vimeo.Player(a),u;e.getAttribute("data-vimeo-update-size")==="true"&&n.getVideoWidth().then(function(t){n.getVideoHeight().then(function(i){u=i/t;let h=e.querySelector(".vimeo-player__before");h&&(h.style.paddingTop=u*100+"%")})});function p(){let t=e.offsetHeight/e.offsetWidth*100,i=e.querySelector(".vimeo-bg__iframe-wrapper");i&&u&&(t>u*100?i.style.width=`${t/(u*100)*100}%`:i.style.width="")}if(e.getAttribute("data-vimeo-update-size")==="true"?(p(),n.getVideoWidth().then(function(){n.getVideoHeight().then(function(){p()})})):p(),window.addEventListener("resize",p),n.on("play",function(){e.setAttribute("data-vimeo-loaded","true")}),e.getAttribute("data-vimeo-autoplay")==="false")n.setVolume(1),n.pause();else if(n.setVolume(0),e.setAttribute("data-vimeo-muted","true"),e.getAttribute("data-vimeo-paused-by-user")==="false"){let t=function(){let i=e.getBoundingClientRect();i.top<window.innerHeight&&i.bottom>0?g():w()};var O=t;t(),window.addEventListener("scroll",t)}function g(){e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-playing","true"),n.play()}function w(){e.setAttribute("data-vimeo-playing","false"),n.pause()}e.querySelectorAll('[data-vimeo-control="play"]').forEach(t=>{t.addEventListener("click",function(){n.setVolume(0),g();let i=e.getAttribute("data-vimeo-muted")==="true"?0:1;n.setVolume(i)})});let A=e.querySelector('[data-vimeo-control="pause"]');A&&A.addEventListener("click",function(){w(),e.getAttribute("data-vimeo-autoplay")==="true"&&(e.setAttribute("data-vimeo-paused-by-user","true"),window.removeEventListener("scroll",O))});let y=e.querySelector('[data-vimeo-control="mute"]');y&&y.addEventListener("click",function(){e.getAttribute("data-vimeo-muted")==="false"?(n.setVolume(0),e.setAttribute("data-vimeo-muted","true")):(n.setVolume(1),e.setAttribute("data-vimeo-muted","false"))});let s=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),d=e.querySelector('[data-vimeo-control="fullscreen"]');!s&&d&&(d.style.display="none"),d&&d.addEventListener("click",()=>{let t=document.getElementById(a);if(!t)return;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(e.setAttribute("data-vimeo-fullscreen","false"),(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)):(e.setAttribute("data-vimeo-fullscreen","true"),(t.requestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen).call(t))});let m=()=>{let t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e.setAttribute("data-vimeo-fullscreen",t?"true":"false")};["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(t=>{document.addEventListener(t,m)});function v(t){let i=Math.floor(t/3600);t-=i*3600;let h=Math.floor(t/60);return t-=h*60,h+":"+(t<10?"0"+t:t)}let S=e.querySelector("[data-vimeo-duration]");n.getDuration().then(function(t){S&&(S.textContent=v(t)),e.querySelectorAll('[data-vimeo-control="timeline"], progress').forEach(h=>{h.setAttribute("max",t)})});let b=e.querySelector('[data-vimeo-control="timeline"]'),_=e.querySelector("progress");function F(){n.getDuration().then(function(){let t=b.value;n.setCurrentTime(t),_&&(_.value=t)})}b&&["input","change"].forEach(t=>{b.addEventListener(t,F)}),n.on("timeupdate",function(t){b&&(b.value=t.seconds),_&&(_.value=t.seconds),S&&(S.textContent=v(Math.trunc(t.seconds)))});let C;e.addEventListener("mousemove",function(){e.getAttribute("data-vimeo-hover")==="false"&&e.setAttribute("data-vimeo-hover","true"),clearTimeout(C),C=setTimeout(I,3e3)});function I(){e.setAttribute("data-vimeo-hover","false")}function P(){e.setAttribute("data-vimeo-activated","false"),e.setAttribute("data-vimeo-playing","false"),n.unload()}n.on("ended",P)})}q();})();
