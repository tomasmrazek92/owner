"use strict";(()=>{var b=n=>{let e=localStorage.getItem(n);try{return JSON.parse(e)}catch{return e}};var x=!1,k=n=>{let e=JSON.parse(localStorage.getItem("restaurant"));if(console.log(e),e&&Array.isArray(e.types)){let o=["bar","cafe","bakery","food","restaurant"];return!e.types.some(i=>o.includes(i))&&!x?(c(n),x=!0,!1):!0}return!1};function R(n){let o=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,}$/.test($(n).val());return c($(n),!o,"Please fill correct email address."),o}function T(n){let e=!0;return e=z(n),e}function z(n){let e=k(n);return e?c($(n),!1):c($(n),!0),e}function B(n){let e,o=$(n).siblings(".select2"),s=$(n).siblings(".nice-select");o?e=o.find(".select2-selection--single"):s?e=$(s):e=$(n);let i=!0;return $(n).val()===""?(validArr.push(selectVal),$(e).addClass("is-invalid"),i=!1):$(e).removeClass("is-invalid"),i}function j(n){return c($(n),!1),!0}function D(n){return $(n).attr("name")==="restaurant-name"&&c($(n),!0,"Please select a business location from the search results."),c($(n),!0),!1}var F=n=>{let e=n,o=!0;return $(e).prop("required")&&($(e).val()?$(e).is('[type="email"]')?o=R(e):$(e).attr("name")==="restaurant-name"?o=T(e):$(e).is("select")?o=B(e):o=j(e):o=D(e)),o?c($(e),!1):$(e).addClass("error"),o},c=(n,e,o)=>{let s=$(n).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(n).closest(".form-field, [form-field]").toggleClass("error",e),s.toggle(e),o&&s.text(o)};var I=(n,e,o,s)=>{let i=".swiper_arrow",h=".swiper-navigation";$(n).each(function(){let p=$(this).index(),r=`${o}_${p}`;$(this).find(e).addClass(r),$(this).find(i).addClass(r),$(this).find(h).addClass(r);let l=Object.assign({},s,{speed:750,threshold:20,navigation:{prevEl:`${i}.prev.${r}`,nextEl:`${i}.next.${r}`},pagination:{el:`${h}.${r}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot",clickable:!0}});for(let f in s)f in l&&(l[f]=s[f]);let d=new Swiper(`${e}.${r}`,l);swipers[o]=swipers[o]||{},swipers[o][p]=d})};I(".section_hp-slider",".hp-slider_wrap","hp-hero",{slidesPerView:1,spaceBetween:12,autoplay:{delay:2e4},on:{autoplayStart:function(){$(".hp-slider_wrap .w-slider-dot").removeClass("stopped")},autoplayStop:function(){$(".hp-slider_wrap .w-slider-dot").addClass("stopped")}}});function E(){let n=!0;return $(".hp-slider_item-form form").find(":input:visible, select").each(function(){let e=F($(this));n=n&&e}),n}$(".hp-grader_btn-submit").on("click",function(n){if(n.preventDefault(),E()){let o=b("restaurant");window.open(`https://grader.owner.com/?placeid=${o.place_id}&utm_source=homepage`,"_blank")}});window.googleAutocomplete.addListener("place_changed",function(){let n=b("restaurant");window.open(`https://grader.owner.com/?placeid=${n.place_id}&utm_source=homepage`,"_blank")});$(".hp-grader_input").on("focus",function(){swipers["hp-hero"][0].autoplay.stop()});$(".hp-grader_input").on("blur",function(){swipers["hp-hero"][0].autoplay.start()});function H(){document.querySelectorAll("[data-vimeo-player-init]").forEach(function(e,o){let s=e.getAttribute("data-vimeo-video-id");if(!s)return;let i=`https://player.vimeo.com/video/${s}?api=1&background=1&autoplay=0&loop=0&muted=1`;e.querySelector("iframe").setAttribute("src",i);let h="vimeo-player-index-"+o;e.setAttribute("id",h);let p=e.id,r=new Vimeo.Player(p),l;e.getAttribute("data-vimeo-update-size")==="true"&&r.getVideoWidth().then(function(t){r.getVideoHeight().then(function(a){l=a/t;let u=e.querySelector(".vimeo-player__before");u&&(u.style.paddingTop=l*100+"%")})});function d(){let t=e.offsetHeight/e.offsetWidth*100,a=e.querySelector(".vimeo-bg__iframe-wrapper");a&&l&&(t>l*100?a.style.width=`${t/(l*100)*100}%`:a.style.width="")}if(e.getAttribute("data-vimeo-update-size")==="true"?(d(),r.getVideoWidth().then(function(){r.getVideoHeight().then(function(){d()})})):d(),window.addEventListener("resize",d),r.on("play",function(){e.setAttribute("data-vimeo-loaded","true")}),e.getAttribute("data-vimeo-autoplay")==="false")r.setVolume(1),r.pause();else if(r.setVolume(0),e.setAttribute("data-vimeo-muted","true"),e.getAttribute("data-vimeo-paused-by-user")==="false"){let t=function(){let a=e.getBoundingClientRect();a.top<window.innerHeight&&a.bottom>0?f():w()};var G=t;t(),window.addEventListener("scroll",t)}function f(){e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-playing","true"),r.play()}function w(){e.setAttribute("data-vimeo-playing","false"),r.pause()}e.querySelectorAll('[data-vimeo-control="play"]').forEach(t=>{t.addEventListener("click",function(){r.setVolume(0),f();let a=e.getAttribute("data-vimeo-muted")==="true"?0:1;r.setVolume(a)})});let A=e.querySelector('[data-vimeo-control="pause"]');A&&A.addEventListener("click",function(){w(),e.getAttribute("data-vimeo-autoplay")==="true"&&(e.setAttribute("data-vimeo-paused-by-user","true"),window.removeEventListener("scroll",G))});let _=e.querySelector('[data-vimeo-control="mute"]');_&&_.addEventListener("click",function(){e.getAttribute("data-vimeo-muted")==="false"?(r.setVolume(0),e.setAttribute("data-vimeo-muted","true")):(r.setVolume(1),e.setAttribute("data-vimeo-muted","false"))});let C=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),g=e.querySelector('[data-vimeo-control="fullscreen"]');!C&&g&&(g.style.display="none"),g&&g.addEventListener("click",()=>{let t=document.getElementById(p);if(!t)return;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(e.setAttribute("data-vimeo-fullscreen","false"),(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)):(e.setAttribute("data-vimeo-fullscreen","true"),(t.requestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen).call(t))});let q=()=>{let t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e.setAttribute("data-vimeo-fullscreen",t?"true":"false")};["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(t=>{document.addEventListener(t,q)});function V(t){let a=Math.floor(t/3600);t-=a*3600;let u=Math.floor(t/60);return t-=u*60,u+":"+(t<10?"0"+t:t)}let v=e.querySelector("[data-vimeo-duration]");r.getDuration().then(function(t){v&&(v.textContent=V(t)),e.querySelectorAll('[data-vimeo-control="timeline"], progress').forEach(u=>{u.setAttribute("max",t)})});let m=e.querySelector('[data-vimeo-control="timeline"]'),y=e.querySelector("progress");function P(){r.getDuration().then(function(){let t=m.value;r.setCurrentTime(t),y&&(y.value=t)})}m&&["input","change"].forEach(t=>{m.addEventListener(t,P)}),r.on("timeupdate",function(t){m&&(m.value=t.seconds),y&&(y.value=t.seconds),v&&(v.textContent=V(Math.trunc(t.seconds)))});let S;e.addEventListener("mousemove",function(){e.getAttribute("data-vimeo-hover")==="false"&&e.setAttribute("data-vimeo-hover","true"),clearTimeout(S),S=setTimeout(L,3e3)});function L(){e.setAttribute("data-vimeo-hover","false")}function O(){e.setAttribute("data-vimeo-activated","false"),e.setAttribute("data-vimeo-playing","false"),r.unload()}r.on("ended",O)})}H();})();
