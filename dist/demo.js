"use strict";(()=>{var L,se=new Uint8Array(16);function G(){if(!L&&(L=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!L))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return L(se)}var p=[];for(let e=0;e<256;++e)p.push((e+256).toString(16).slice(1));function W(e,t=0){return p[e[t+0]]+p[e[t+1]]+p[e[t+2]]+p[e[t+3]]+"-"+p[e[t+4]]+p[e[t+5]]+"-"+p[e[t+6]]+p[e[t+7]]+"-"+p[e[t+8]]+p[e[t+9]]+"-"+p[e[t+10]]+p[e[t+11]]+p[e[t+12]]+p[e[t+13]]+p[e[t+14]]+p[e[t+15]]}var ie=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),D={randomUUID:ie};function le(e,t,n){if(D.randomUUID&&!t&&!e)return D.randomUUID();e=e||{};let o=e.random||(e.rng||G)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){n=n||0;for(let c=0;c<16;++c)t[n+c]=o[c];return t}return W(o)}var z=le;var f=(e,t)=>{let n=$(`input[name="${e}"]`);n.attr("type")==="checkbox"?n.prop("checked",t):n.val(t)},U=e=>$(`input[name="${e}"]`).val(),Q=()=>{$('select[name="person-type"]').on("change",function(){$(this).val()==="I'm a restaurant owner or manager"?$("#locations-wrap").css("display","flex"):$("#locations-wrap").hide()})};var B=e=>{let t=localStorage.getItem(e);try{return JSON.parse(t)}catch{return t}};var X=!1,K=e=>{let t=JSON.parse(localStorage.getItem("restaurant"));if(console.log(t),t&&Array.isArray(t.types)){let n=["bar","cafe","bakery","food","restaurant"];return!t.types.some(c=>n.includes(c))&&!X?(b(e),X=!0,!1):!0}return!1};function ce(e){let n=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,}$/.test($(e).val());return b($(e),!n,"Please fill correct email address."),n}function de(e){let t=!0;return t=ue(e),t}function ue(e){let t=K(e);return t?b($(e),!1):b($(e),!0),t}function me(e){let t,n=$(e).siblings(".select2"),o=$(e).siblings(".nice-select");n?t=n.find(".select2-selection--single"):o?t=$(o):t=$(e);let c=!0;return $(e).val()===""?(validArr.push(selectVal),$(t).addClass("is-invalid"),c=!1):$(t).removeClass("is-invalid"),c}function fe(e){return $(e).is(":checked")?(b($(e),!1),!0):(b($(e),!0),!1)}function pe(e){let t=$(e).attr("name"),n=$(`input[name="${t}"]`);return n.is(":checked")?($(n).closest(".radio-group").removeClass("is-invalid"),b($(n[0]),!1),!0):($(n).closest(".radio-group").addClass("is-invalid"),b($(n[0]),!0,"Please select an option."),!1)}function he(e){return b($(e),!1),!0}function ge(e){return $(e).attr("name")==="restaurant-name"&&b($(e),!0,"Please select a business location from the search results."),b($(e),!0),!1}var Y=e=>{let t=e,n=!0;return $(t).prop("required")&&($(t).is('[type="checkbox"]')?n=fe(t):$(t).is('[type="radio"]')?n=pe(t):$(t).val()?$(t).is('[type="email"]')?n=ce(t):$(t).attr("name")==="restaurant-name"?n=de(t):$(t).is("select")?n=me(t):n=he(t):n=ge(t)),n?b($(t),!1):$(t).addClass("error"),n},b=(e,t,n)=>{let o=$(e).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(e).closest(".form-field, [form-field]").toggleClass("error",t),o.toggle(t),n&&o.text(n)};var _e={name:["company","0-2/name"],international_phone_number:["phone","0-2/phone"],"restaurant-address":["address","0-2/address"],locality:["city","0-2/city"],administrative_area_level_1:["state","0-2/state"],postal_code:["zip","0-2/zip"],country:["country","0-2/country"],"first-name":"firstname","last-name":"lastname",cellphone:"mobilephone",email:"email","person-type":"lead_person_type",website:"website",place_id:"place_id",url:"place_cid",place_types:["place_types_contact","0-2/place_types"],rating:"place_rating",user_ratings_total:"user_ratings_total","number-of-locations":"of_locations_number",hear:"how_did_you_hear_about_us",page_url:"last_pdf_download",page_lang:"page_lang",brizo_id:["brizo_id","0-2/brizo_id_account"],base_enrich_date:["auto_enrich_date","0-2/auto_enrich_date_company"],inbound_add_to_cadence:"inbound_add_to_cadence",execution_time_seconds:"auto_enrich_time",auto_dq_flag:"auto_dq_static",auto_dq_reason:["auto_dq_reason","0-2/auto_dq_reason_company"],gmv_pred:["pred_gmv","0-2/pred_gmv_company"],sms_opt_in:"sms_opt_in",referrer_s_phone_number:"referrer_s_phone_number"},ve=(e,o)=>{var n=$(e),o=$(o),c=_e;Object.keys(c).forEach(function(m){var E=c[m],g=n.find('input[name="'+m.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]');g.length===0&&(g=n.find('select[name="'+m.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]'));var w=g.val();Array.isArray(E)||(E=[E]),E.forEach(function(S){var v=o.find("input[name="+S.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+"]");v.attr("type")==="checkbox"?String(w).toLowerCase()==="true"||String(w).toLowerCase()==="on"?v.prop("checked",!0):v.prop("checked",!1):be(v,".hs-datepicker")?v.siblings("input[readonly]").val(w).change():v.val(w),["phone","mobilephone","email","pred_gmv"].includes(S)&&(v.get(0).focus({preventScrol:!0}),v.get(0).blur())})})},ye=e=>{let t=!1;var n=e.find("input[name=mobilephone]").parent().siblings(".hs-error-msgs").find(".hs-error-msg").text(),o=$('input[name="cellphone"]').closest("[field-wrapper]").find("[field-validation]");n?(t=!0,o.text(n),o.show()):o.hide();var c=e.find("input[name=email]").closest(".hs-fieldtype-text").find(".hs-error-msgs").find(".hs-error-msg").text(),m=$('input[name="email"]').closest("[field-wrapper]").find("[field-validation]");return c?(m.text(c),m.show(),t=!0):m.hide(),t};function Z(e){ne(e)}function ee(){return new Promise(function(e){ne=e})}var te=(e,t)=>(ve(e,t),new Promise(n=>{let o;setTimeout(()=>{o=ye(t),n(!o)},3e3)}));function N(e){let t=$("[form-loader]");e?(t.find('[data-animation-type="lottie"]').trigger("click"),t.fadeIn()):t.hide()}var ne;function be(e,t){let n=e[0]||e.get(0);if(!n)return!1;let{parentNode:o}=n;return o?Array.from(o.children).some(c=>c!==n&&c.matches(t)):!1}function $e(){let e={},t=window.location.search;return t&&new URLSearchParams(t).forEach(function(o,c){let m=c.toLowerCase();e[m]=o}),e}function we(e){Object.keys(e).length>0&&sessionStorage.setItem("utmWebParams",JSON.stringify(e))}function J(){let e=sessionStorage.getItem("utmWebParams");if(!e)return{};try{return JSON.parse(e)}catch(t){return console.error("Error parsing UTM params from sessionStorage:",t),{}}}function xe(){let e=$e(),n={...J()};return Object.keys(e).length>0&&(Object.keys(e).forEach(o=>{n[o]=e[o]}),we(n)),n}$(document).ready(function(){let e=xe();console.log("UTM Parameters:",e)});function ke(){if(!window.mixpanel||!window.mixpanel.__SV){var e=window.mixpanel=window.mixpanel||[];e._i=[],e.init=function(o,c,m){function E(x,_){var F=_.split(".");F.length==2&&(x=x[F[0]],_=F[1]),x[_]=function(){x.push([_].concat(Array.prototype.slice.call(arguments,0)))}}var g=e;typeof m!="undefined"?g=e[m]=[]:m="mixpanel",g.people=g.people||[],g.toString=function(x){var _="mixpanel";return m!=="mixpanel"&&(_+="."+m),x||(_+=" (stub)"),_},g.people.toString=function(){return g.toString(1)+".people (stub)"};for(var w="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),S=0;S<w.length;S++)E(g,w[S]);var v="set set_once union unset remove delete".split(" ");g.get_group=function(){function x(A){_[A]=function(){call2_args=arguments,call2=[A].concat(Array.prototype.slice.call(call2_args,0)),g.push([F,call2])}}for(var _={},F=["get_group"].concat(Array.prototype.slice.call(arguments,0)),T=0;T<v.length;T++)x(v[T]);return _},e._i.push([o,c,m])},e.__SV=1.2;var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=typeof MIXPANEL_CUSTOM_LIB_URL!="undefined"?MIXPANEL_CUSTOM_LIB_URL:document.location.protocol==="file:"&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}ke();mixpanel.init("8e3c791cba0b20f2bc5aa67d9fb2732a",{record_sessions_percent:100,record_mask_text_selector:""});$(document).ready(()=>{let e,t=typeof scheduleFlow!="undefined"&&scheduleFlow,n=$.cookie("webTempTatariUserId");n||(n=z(),$.cookie("webTempTatariUserId",n,{domain:".owner.com",path:"/"})),window.webUserId=n,typeof n!="undefined"&&n&&mixpanel.identify(n);function o(s){function a(){let{userAgent:V}=navigator,M=navigator.appName,{platform:P}=navigator,{language:h}=navigator;return{userAgent:V,browser:M,platform:P,language:h}}let r=a(),l=I.find($("input[name=first-name]")).val(),d=I.find($("input[name=last-name]")).val(),i=I.find($("input[name=name]")).val(),y=I.find($("input[name=cellphone]")).val(),C=I.find($("input[name=email]")).val(),u={displayName:l+" "+d,restaurantName:i,phone:y,email:C,firstName:l,lastName:d,...r};typeof mixpanel!="undefined"&&mixpanel&&(mixpanel.identify(n),mixpanel.people.set({$first_name:l,$last_name:d,$email:C,$phone:y,restaurantName:i,...r}),mixpanel.track(s,u))}function c(){var s="db833abde57f505b06b0e4b2bfe5e24f",a="2226621",r=document.createElement("img");r.src="https://ct.capterra.com/capterra_tracker.gif?vid="+a+"&vkey="+s,document.body.appendChild(r)}let m=()=>B("restaurant");function E(){return new Promise((s,a)=>{try{if(t){let r=m();e=void 0;let l=$('select[name="person-type"]').val()==="I'm a restaurant owner or manager",d=r.address_components.some(i=>i.short_name==="US");(!l||!d)&&(o("Submission Disqualified"),e=!1)}else e=!1;s()}catch(r){a(r)}})}function g(){let s=m(),a={name:s.name,address:s.formatted_address,website:s.website,email:"jonathan@owner.com",token:"AJXuyxPXgGF68NMv",sfdc_id:"None"},r;function l(d){return new Promise((i,y)=>{$.ajax({url:"https://owner-ops.net/business-info/",type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(d),timeout:15e3,success:function(C){console.log(C),i(C)},error:function(C,u,V){u==="timeout"&&(f("execution_time_seconds",15),f("gmv_pred",0)),i("")}})})}return l(a).then(d=>d[0]).catch(d=>(console.error("Error:",d),!1))}function w(s,a){let r=$("[demo-form] input"),l=["brizo_id","base_enrich_date","inbound_add_to_cadence","execution_time_seconds","auto_dq_flag","auto_dq_reason","gmv_pred"];a?r.each(function(){let d=$(this).attr("name");if(l.includes(d)&&s.hasOwnProperty(d)){var i=s[d];typeof i=="string"&&i.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?$(this).val(i.split("T")[0]):typeof i=="number"||!isNaN(i)&&!isNaN(parseFloat(i))?$(this).val(Number(i).toFixed(2)):$(this).val(i)}}):v(!1)}function S(s){let a=!0;return s.find(":input:visible, select").each(function(){let r=Y($(this));a=a&&r}),a}function v(s){f("base_enrich_date",new Date().toISOString().slice(0,10)),f("inbound_add_to_cadence","true"),s===!1&&(f("execution_time_seconds",0),f("auto_dq_flags","true")),s===!0&&(f("execution_time_seconds",0),f("auto_dq_reason","none"),f("auto_dq_flags","false"),f("self_service_scheduling_shown",!0))}function x(){f("page_url",t?"/demo-schedule":window.location.pathname),f("page_lang",$("html").attr("lang")),f("url",(()=>{var a=m();if(a&&a.url){var r=a.url;return r.split("cid=")[1]}return"none"})());function s(){let a=J();if(!a||Object.keys(a).length===0)return;let r=$("input"),l={},d={};r.each(function(){let i=$(this).attr("name");if(i)if(i.startsWith("0-2/")){let y=i.substring(4);d[y]=$(this)}else l[i]=$(this)}),Object.keys(a).forEach(i=>{let y=a[i];y&&(l[i]&&l[i].val(y),d[i]&&d[i].val(y))})}s(),f("web_user_id",n)}function _(s){let a;if($('[data-form="submit-btn"]').is(":visible")?a=$('[data-form="submit-btn"]'):a=$('[data-form="next-btn"]'),s){let r=a.text();a.addClass("disabled"),a.attr("data-original-text",r),a.children("div:first-child").text("Processing")}else{let r=a.attr("data-original-text");a.removeClass("disabled"),a.children("div:first-child").text(r)}}async function F(){if(_(!0),S(I)){N(!0);try{if(await E(),typeof e!="boolean"){let r=await g(),l=r.auto_dq_flag;f("self_service_enrichment_api_used",!0),typeof l=="string"?(e=r.auto_dq_flag!=="True",w(r,!0),e&&f("self_service_scheduling_shown",!0)):(e=!1,w(r,!1))}else v(e)}catch{e=!1}return x(),o("Form Button Clicked"),_(!1),await te(I,q)}return _(!1),!1}async function T(){await F()?q[0].submit():N(!1)}let A=()=>{let s=$(".demo-form_success"),a=!window.location.href.includes("/blog/")&&!window.location.href.includes("/resources/")&&!window.location.href.includes("/downloads/"),r=I.attr("data-custom-redirect"),l=t&&e&&!r;if(I.hide(),N(!1),l){let y=function(C){var u=$.extend({},d,C);$(u.selector).html('<div class="meetings-iframe-container" data-src="'+u.link+`?embed=true&firstName=${u.fName}&lastName=${u.lName}&email=${u.email}&company=${u.company}"></div>`),$.getScript("https://static.hsappstatic.net/MeetingsEmbed/ex/MeetingsEmbedCode.js").done(function(){s.show()})};var i=y,d={link:"https://meetings.hubspot.com/jonathan-shenkman/self-scheduling",selector:".demo-form_success",email:U("email"),fName:U("first-name"),lName:U("last-name"),company:U("name")};y()}r?(s.show(),window.location.href=r):a&&!l?(s.show(),window.location.href="https://www.owner.com/funnel-demo-requested"):s.show()},I=$("[demo-form]"),q,R="f3807262-aed3-4b9c-93a3-247ad4c55e60",H="6449395",j=window.location.href;j.indexOf("/resources/")!==-1&&(R="66b9776c-c640-4b5a-8807-439a721001ff"),j.indexOf("refer")!==-1&&(R="969fbdc3-b662-4428-a208-c78b8f20efa6"),j.indexOf("dev")!==-1&&(R="e13f4000-0da1-48db-bc88-752e55c82fe7",H="50356338"),hbspt.forms.create({portalId:H,formId:R,target:"#hbst-form",onFormReady:Z,onFormSubmit:function(){o("Form Submission Attempt")},onFormSubmitted:()=>{o("Form Submission Sent"),c(),setTimeout(()=>{A()},200)}}),ee().then(function(s){q=$(s)}),$("[data-form=submit-btn]").on("click",T),Q(),$("[data-cleave-phone]").each(function(){new Cleave($(this),{numericOnly:!0,blocks:[0,3,3,4,10],delimiters:["(",") ","-"],delimiterLazyShow:!0})});function ae(){function s(){$(document).ready(function(){$('.goals-screen input[name="goals"]').closest("label").removeClass("is-active")}),$(document).on("click",'.goals-screen input[name="goals"]',function(P){let h=$(this).val();$('.goals-screen input[name="goals"]').closest("label").removeClass("is-active"),$(this).closest("label").addClass("is-active");var k=$("#screen2_heading");h==="All of the above"?k.html('Good news! Restaurants see online sales grow by up to <span class="text-color-brand">$8k</span> per month and reduce costs by up to <span class="text-color-brand">$2k</span> per month with Owner'):h==="Reduce my costs"?k.html('Good news! Restaurants see costs reduce by up to <span class="text-color-brand">$2k</span> per month with Owner'):k.html('Good news! Restaurants see online sales grow by up to <span class="text-color-brand">$8k</span> per month with Owner'),l&&l.click()}),$(document).off("change",'.goals-screen input[name="goals"]')}let a=document.querySelectorAll('[class*="step-"]'),r=document.querySelector('[data-form="back-btn"]'),l=document.querySelector('[data-form="next-btn"]'),d=document.querySelector('[data-form="multi-submit-btn"]');if(!a.length)return;let i=document.querySelector(".progressbar-left"),y=document.getElementById("wf-form-email-form-v2"),C=document.getElementById("Hear"),u=0;function V(P="next"){let h=document.querySelector(".all-screens");h&&(h.style.overflow="hidden"),a.forEach((O,re)=>{O.classList.remove("step-hide","step-active","step-slide","step-enter-left","step-enter-right"),re===u?(O.classList.add("step-slide","step-active"),O.classList.add(P==="next"?"step-enter-right":"step-enter-left"),O.offsetWidth,O.classList.remove("step-enter-left","step-enter-right"),setTimeout(()=>{h&&(h.style.overflow="visible")},400)):O.classList.add("step-hide")});let k=u===0,oe=u===a.length-1;i.style.display=k?"none":"flex",l.style.display=k||oe?"none":"flex",r.style.display=k?"none":"flex",l.className=l.className.replace(/continue-\d+/g,""),l.classList.add(`continue-${u}`),M()}function M(){document.querySelectorAll(".progressbar__item-2").forEach((h,k)=>{h.classList.toggle("active-bar",k<=u)})}l==null||l.addEventListener("click",async function(){u<a.length-1&&S($(a[u]))&&(u++,V("next"))}),d==null||d.addEventListener("click",async function(){let P=await F();for(let h=0;h<a.length;h++)if($(a[h]).find("[field-validation]").filter(function(){return $(this).css("display")==="block"}).length>0){N(!1),u=h,V("back");break}P?(q[0].submit(),$(".last-button").hide()):N(!1)}),r==null||r.addEventListener("click",function(){u>0&&(u--,V("prev"))}),$(document).ready(function(){s(),V()})}ae()});})();
