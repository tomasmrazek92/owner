"use strict";(()=>{var G,ue=new Uint8Array(16);function B(){if(!G&&(G=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!G))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return G(ue)}var b=[];for(let e=0;e<256;++e)b.push((e+256).toString(16).slice(1));function te(e,t=0){return b[e[t+0]]+b[e[t+1]]+b[e[t+2]]+b[e[t+3]]+"-"+b[e[t+4]]+b[e[t+5]]+"-"+b[e[t+6]]+b[e[t+7]]+"-"+b[e[t+8]]+b[e[t+9]]+"-"+b[e[t+10]]+b[e[t+11]]+b[e[t+12]]+b[e[t+13]]+b[e[t+14]]+b[e[t+15]]}var fe=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),J={randomUUID:fe};function pe(e,t,n){if(J.randomUUID&&!t&&!e)return J.randomUUID();e=e||{};let c=e.random||(e.rng||B)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,t){n=n||0;for(let d=0;d<16;++d)t[n+d]=c[d];return t}return te(c)}var H=pe;var y=(e,t)=>{let n=$(`input[name="${e}"]`);n.attr("type")==="checkbox"?n.prop("checked",t):n.val(t)};var ne=()=>{$('select[name="person-type"]').on("change",function(){$(this).val()==="I'm a restaurant owner or manager"?$("#locations-wrap").css("display","flex"):$("#locations-wrap").hide()})};var W=e=>{let t=localStorage.getItem(e);try{return JSON.parse(t)}catch{return t}};var oe=!1,ae=e=>{let t=JSON.parse(localStorage.getItem("restaurant"));if(console.log(t),t&&Array.isArray(t.types)){let n=["bar","cafe","bakery","food","restaurant"];return!t.types.some(d=>n.includes(d))&&!oe?(S(e),oe=!0,!1):!0}return!1};function me(e){let n=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,}$/.test($(e).val());return S($(e),!n,"Please fill correct email address."),n}function he(e){let t=!0;return t=ge(e),t}function ge(e){let t=ae(e);return t?S($(e),!1):S($(e),!0),t}function _e(e){let t,n=$(e).siblings(".select2"),c=$(e).siblings(".nice-select");n?t=n.find(".select2-selection--single"):c?t=$(c):t=$(e);let d=!0;return $(e).val()===""?(validArr.push(selectVal),$(t).addClass("is-invalid"),d=!1):$(t).removeClass("is-invalid"),d}function ye(e){return $(e).is(":checked")?(S($(e),!1),!0):(S($(e),!0),!1)}function be(e){let t=$(e).attr("name"),n=$(`input[name="${t}"]`);return n.is(":checked")?($(n).closest(".radio-group").removeClass("is-invalid"),S($(n[0]),!1),!0):($(n).closest(".radio-group").addClass("is-invalid"),S($(n[0]),!0,"Please select an option."),!1)}function ve(e){return S($(e),!1),!0}function we(e){return $(e).attr("name")==="restaurant-name"&&S($(e),!0,"Please select a business location from the search results."),S($(e),!0),!1}var re=e=>{let t=e,n=!0;return $(t).prop("required")&&($(t).is('[type="checkbox"]')?n=ye(t):$(t).is('[type="radio"]')?n=be(t):$(t).val()?$(t).is('[type="email"]')?n=me(t):$(t).attr("name")==="restaurant-name"?n=he(t):$(t).is("select")?n=_e(t):n=ve(t):n=we(t)),n?S($(t),!1):$(t).addClass("error"),n},S=(e,t,n)=>{let c=$(e).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(e).closest(".form-field, [form-field]").toggleClass("error",t),c.toggle(t),n&&c.text(n)};var $e={name:["company","0-2/name"],international_phone_number:["phone","0-2/phone"],"restaurant-address":["address","0-2/address"],locality:["city","0-2/city"],administrative_area_level_1:["state","0-2/state"],postal_code:["zip","0-2/zip"],country:["country","0-2/country"],"first-name":"firstname","last-name":"lastname",cellphone:"mobilephone",email:"email","person-type":"lead_person_type",website:"website",place_id:"place_id",url:"place_cid",place_types:["place_types_contact","0-2/place_types"],rating:"place_rating",user_ratings_total:"user_ratings_total","number-of-locations":"of_locations_number",hear:"how_did_you_hear_about_us",page_url:"last_pdf_download",page_lang:"page_lang",brizo_id:["brizo_id","0-2/brizo_id_account"],base_enrich_date:["auto_enrich_date","0-2/auto_enrich_date_company"],inbound_add_to_cadence:"inbound_add_to_cadence",execution_time_seconds:"auto_enrich_time",auto_dq_flag:"auto_dq_static",auto_dq_reason:["auto_dq_reason","0-2/auto_dq_reason_company"],gmv_pred:["pred_gmv","0-2/pred_gmv_company"],sms_opt_in:"sms_opt_in",referrer_s_phone_number:"referrer_s_phone_number"},xe=(e,c)=>{var n=$(e),c=$(c),d=$e;Object.keys(d).forEach(function(m){var P=d[m],v=n.find('input[name="'+m.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]');v.length===0&&(v=n.find('select[name="'+m.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]'));var F=v.val();Array.isArray(P)||(P=[P]),P.forEach(function(E){var x=c.find("input[name="+E.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+"]");x.attr("type")==="checkbox"?String(F).toLowerCase()==="true"||String(F).toLowerCase()==="on"?x.prop("checked",!0):x.prop("checked",!1):ke(x,".hs-datepicker")?x.siblings("input[readonly]").val(F).change():x.val(F),["phone","mobilephone","email","pred_gmv"].includes(E)&&(x.get(0).focus({preventScrol:!0}),x.get(0).blur())})})},Se=e=>{let t=!1;var n=e.find("input[name=mobilephone]").parent().siblings(".hs-error-msgs").find(".hs-error-msg").text(),c=$('input[name="cellphone"]').closest("[field-wrapper]").find("[field-validation]");n?(t=!0,c.text(n),c.show()):c.hide();var d=e.find("input[name=email]").closest(".hs-fieldtype-text").find(".hs-error-msgs").find(".hs-error-msg").text(),m=$('input[name="email"]').closest("[field-wrapper]").find("[field-validation]");return d?(m.text(d),m.show(),t=!0):m.hide(),t};function se(e){ce(e)}function ie(){return new Promise(function(e){ce=e})}var le=(e,t)=>(xe(e,t),new Promise(n=>{let c;setTimeout(()=>{c=Se(t),n(!c)},3e3)}));function A(e){let t=$("[form-loader]");e?(t.find('[data-animation-type="lottie"]').trigger("click"),t.fadeIn()):t.hide()}var ce;function ke(e,t){let n=e[0]||e.get(0);if(!n)return!1;let{parentNode:c}=n;return c?Array.from(c.children).some(d=>d!==n&&d.matches(t)):!1}function Ie(){let e={},t=window.location.search;return t&&new URLSearchParams(t).forEach(function(c,d){let m=d.toLowerCase();e[m]=c}),e}function Fe(e){Object.keys(e).length>0&&sessionStorage.setItem("utmWebParams",JSON.stringify(e))}function K(){let e=sessionStorage.getItem("utmWebParams");if(!e)return{};try{return JSON.parse(e)}catch(t){return console.error("Error parsing UTM params from sessionStorage:",t),{}}}function Ce(){let e=Ie(),n={...K()};return Object.keys(e).length>0&&(Object.keys(e).forEach(c=>{n[c]=e[c]}),Fe(n)),n}$(document).ready(function(){let e=Ce();console.log("UTM Parameters:",e)});function Ee(){if(!window.mixpanel||!window.mixpanel.__SV){var e=window.mixpanel=window.mixpanel||[];e._i=[],e.init=function(c,d,m){function P(C,w){var U=w.split(".");U.length==2&&(C=C[U[0]],w=U[1]),C[w]=function(){C.push([w].concat(Array.prototype.slice.call(arguments,0)))}}var v=e;typeof m!="undefined"?v=e[m]=[]:m="mixpanel",v.people=v.people||[],v.toString=function(C){var w="mixpanel";return m!=="mixpanel"&&(w+="."+m),C||(w+=" (stub)"),w},v.people.toString=function(){return v.toString(1)+".people (stub)"};for(var F="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),E=0;E<F.length;E++)P(v,F[E]);var x="set set_once union unset remove delete".split(" ");v.get_group=function(){function C(N){w[N]=function(){call2_args=arguments,call2=[N].concat(Array.prototype.slice.call(call2_args,0)),v.push([U,call2])}}for(var w={},U=["get_group"].concat(Array.prototype.slice.call(arguments,0)),R=0;R<x.length;R++)C(x[R]);return w},e._i.push([c,d,m])},e.__SV=1.2;var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=typeof MIXPANEL_CUSTOM_LIB_URL!="undefined"?MIXPANEL_CUSTOM_LIB_URL:document.location.protocol==="file:"&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}Ee();mixpanel.init("8e3c791cba0b20f2bc5aa67d9fb2732a",{record_sessions_percent:100,record_mask_text_selector:""});$(document).ready(()=>{let e,t=typeof scheduleFlow!="undefined"&&scheduleFlow,n=$.cookie("webTempTatariUserId");n||(n=H(),$.cookie("webTempTatariUserId",n,{domain:".owner.com",path:"/"})),window.webUserId=n,typeof n!="undefined"&&n&&mixpanel.identify(n);function c(i){function o(){let{userAgent:I}=navigator,V=navigator.appName,{platform:_}=navigator,{language:u}=navigator;return{userAgent:I,browser:V,platform:_,language:u}}let a=o(),l=T.find($("input[name=first-name]")).val(),r=T.find($("input[name=last-name]")).val(),s=T.find($("input[name=name]")).val(),h=T.find($("input[name=cellphone]")).val(),k=T.find($("input[name=email]")).val(),f={displayName:l+" "+r,restaurantName:s,phone:h,email:k,firstName:l,lastName:r,...a};typeof mixpanel!="undefined"&&mixpanel&&(mixpanel.identify(n),mixpanel.people.set({$first_name:l,$last_name:r,$email:k,$phone:h,restaurantName:s,...a}),mixpanel.track(i,f))}function d(){var i="db833abde57f505b06b0e4b2bfe5e24f",o="2226621",a=document.createElement("img");a.src="https://ct.capterra.com/capterra_tracker.gif?vid="+o+"&vkey="+i,document.body.appendChild(a)}let m=()=>W("restaurant");function P(){return new Promise((i,o)=>{try{if(t){let a=m();e=void 0;let l=$('select[name="person-type"]').val()==="I'm a restaurant owner or manager",r=a.address_components.some(s=>s.short_name==="US");(!l||!r)&&(c("Submission Disqualified"),e=!1)}else e=!1;i()}catch(a){o(a)}})}function v(){let i=m(),o={name:i.name,address:i.formatted_address,website:i.website,email:"jonathan@owner.com",token:"AJXuyxPXgGF68NMv",sfdc_id:"None"},a;function l(r){return new Promise((s,h)=>{$.ajax({url:"https://owner-ops.net/business-info/",type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(r),timeout:15e3,success:function(k){console.log(k),s(k)},error:function(k,f,I){f==="timeout"&&(y("execution_time_seconds",15),y("gmv_pred",0)),s("")}})})}return l(o).then(r=>r[0]).catch(r=>(console.error("Error:",r),!1))}function F(i,o){let a=$("[demo-form] input"),l=["brizo_id","base_enrich_date","inbound_add_to_cadence","execution_time_seconds","auto_dq_flag","auto_dq_reason","gmv_pred"];o?a.each(function(){let r=$(this).attr("name");if(l.includes(r)&&i.hasOwnProperty(r)){var s=i[r];typeof s=="string"&&s.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?$(this).val(s.split("T")[0]):typeof s=="number"||!isNaN(s)&&!isNaN(parseFloat(s))?$(this).val(Number(s).toFixed(2)):$(this).val(s)}}):x(!1)}function E(i){let o=!0;return i.find(":input:visible, select").each(function(){let a=re($(this));o=o&&a}),o}function x(i){y("base_enrich_date",new Date().toISOString().slice(0,10)),y("inbound_add_to_cadence","true"),i===!1&&(y("execution_time_seconds",0),y("auto_dq_flags","true")),i===!0&&(y("execution_time_seconds",0),y("auto_dq_reason","none"),y("auto_dq_flags","false"),y("self_service_scheduling_shown",!0))}function C(){y("page_url",t?"/demo-schedule":window.location.pathname),y("page_lang",$("html").attr("lang")),y("url",(()=>{var o=m();if(o&&o.url){var a=o.url;return a.split("cid=")[1]}return"none"})());function i(){let o=K();if(!o||Object.keys(o).length===0)return;let a=$("input"),l={},r={};a.each(function(){let s=$(this).attr("name");if(s)if(s.startsWith("0-2/")){let h=s.substring(4);r[h]=$(this)}else l[s]=$(this)}),Object.keys(o).forEach(s=>{let h=o[s];h&&(l[s]&&l[s].val(h),r[s]&&r[s].val(h))})}i(),y("web_user_id",n)}function w(i){let o;if($('[data-form="submit-btn"]').is(":visible")?o=$('[data-form="submit-btn"]'):o=$('[data-form="next-btn"]'),i){let a=o.text();o.addClass("disabled"),o.attr("data-original-text",a),o.children("div:first-child").text("Processing")}else{let a=o.attr("data-original-text");o.removeClass("disabled"),o.children("div:first-child").text(a)}}async function U(){if(w(!0),E(T)){A(!0);try{if(await P(),typeof e!="boolean"){let a=await v(),l=a.auto_dq_flag;y("self_service_enrichment_api_used",!0),typeof l=="string"?(e=a.auto_dq_flag!=="True",F(a,!0),e&&y("self_service_scheduling_shown",!0)):(e=!1,F(a,!1))}else x(e)}catch{e=!1}return C(),c("Form Button Clicked"),w(!1),await le(T,j)}return w(!1),!1}async function R(){await U()?(O=X("#hbst-form"),Y(),await Z(),j[0].submit(),setTimeout(()=>{N()},500)):A(!1)}let N=()=>{let i=$(".demo-form_success"),o=!window.location.href.includes("/blog/")&&!window.location.href.includes("/resources/")&&!window.location.href.includes("/downloads/"),a=T.attr("data-custom-redirect"),l=t&&e&&!a;if(T.hide(),A(!1),l)if(window.defaultSchedulerUrl){let h=function(){var k=new URL(r.link);$(r.selector).html('<div class="meetings-iframe-container" style="width: 100%; height: 900px;"><iframe src="'+k.toString()+'" width="100%" height="100%" frameborder="0" allow="camera; microphone; autoplay; encrypted-media; fullscreen; display-capture"></iframe></div>'),i.css("background-color","white"),i.show()};var s=h,r={link:window.defaultSchedulerUrl,selector:".demo-form_success"};h()}else i.show();a?(i.show(),window.location.href=a):o&&!l?(i.show(),window.location.href="https://www.owner.com/funnel-demo-requested"):l||i.show()},T=$("[demo-form]"),j,M="f3807262-aed3-4b9c-93a3-247ad4c55e60",Q="6449395",z=window.location.href;z.indexOf("/resources/")!==-1&&(M="66b9776c-c640-4b5a-8807-439a721001ff"),z.indexOf("refer")!==-1&&(M="969fbdc3-b662-4428-a208-c78b8f20efa6"),z.indexOf("dev")!==-1&&(M="e13f4000-0da1-48db-bc88-752e55c82fe7",Q="50356338"),hbspt.forms.create({portalId:Q,formId:M,target:"#hbst-form",onFormReady:se,onFormSubmit:function(){c("Form Submission Attempt")},onFormSubmitted:async()=>{c("Form Submission Sent"),d()}}),ie().then(function(i){j=$(i)}),$("[data-form=submit-btn]").on("click",R),ne(),$("[data-cleave-phone]").each(function(){new Cleave($(this),{numericOnly:!0,blocks:[0,3,3,4,10],delimiters:["(",") ","-"],delimiterLazyShow:!0})});let O=null,D=!1;function X(i){let o=$(i),a=[],l={},r={};return o.find("input, textarea, select").each(function(){let s=$(this),h=s.attr("type"),k=s.prop("tagName").toLowerCase(),f=s.attr("name");f&&f.includes("/")&&(f=f.split("/").pop());let I=f,V=$(`label[for="${I}"]`).text().trim()||s.closest(".field, .hs-form-field").find("label").text().trim()||s.attr("placeholder")||f;if(!s.attr("name")||h==="submit"||!V||!I)return;let _="input",u=[],p=s.val()||"";if(h==="checkbox"){if(!s.is(":checked"))return;p=(s.val()||"true").toString(),_="checkbox",u=[p]}else if(h==="radio"){if(!s.is(":checked"))return;p=s.val().toString(),_="radio",u=[p]}else{if(!p.trim()&&h!=="hidden")return;if(h==="email"){_="email";let g={id:"email",name:"email",label:"email",type:_};u.length&&(g.options=u),a.push(g),l.email=p,r.email=g;return}else h==="tel"||h==="phone"?_="tel":k==="textarea"?_="textarea":k==="select"&&(_="select",s.find("option").each(function(){let g=$(this).val();g&&!$(this).is(":disabled")&&u.push(g.toString())}))}if(r[V]){let g=r[V];if(u.length&&u.forEach(q=>{let ee=q.toString();g.options||(g.options=[]),g.options.includes(ee)||g.options.push(ee)}),_==="checkbox"){let q=l[g.id];l[g.id]=q?Array.isArray(q)?[...q,p]:[q,p]:[p]}else l[g.id]=p;return}let L={id:I,name:f,label:V,type:_};u.length&&(L.options=u),a.push(L),l[I]=p,r[V]=L}),{questions:a,responses:l}}function Y(){if(!O){console.error("No form data");return}let i=Object.keys(O.responses).find(r=>r.includes("email")),o=i?O.responses[i]:null;if(!o){console.error("No email found"),window.defaultSchedulerUrl=null,D=!0;return}console.log(O);let a={form_id:593374,team_id:514,email:o,responses:O.responses,questions:O.questions};console.log("Submission:",a);let l={autoSchedulerDisplay:!1,onSuccess:r=>{console.log("SUCCESS:",r),window.defaultSchedulerUrl=r?r.body.stepDetails.url:null,D=!0},onError:r=>{console.error("ERROR:",r),window.defaultSchedulerUrl=null,D=!0},onSchedulerClosed:r=>{window.location.href=r.redirectUrl},onMeetingBooked:r=>{console.log("Meeting booked successfully!",r.payload)}};window.DefaultSDK.submit(a,l)}function Z(i=15e3){return new Promise(o=>{let a=Date.now(),l=()=>{D||Date.now()-a>i?o():setTimeout(l,100)};l()})}function de(){function i(){$(document).ready(function(){$('.goals-screen input[name="goals"]').closest("label").removeClass("is-active")}),$(document).on("click",'.goals-screen input[name="goals"]',function(_){let u=$(this).val();$('.goals-screen input[name="goals"]').closest("label").removeClass("is-active"),$(this).closest("label").addClass("is-active");var p=$("#screen2_heading");u==="All of the above"?p.html('Good news! Restaurants see online sales grow by up to <span class="text-color-brand">$8k</span> per month and reduce costs by up to <span class="text-color-brand">$2k</span> per month with Owner'):u==="Reduce my costs"?p.html('Good news! Restaurants see costs reduce by up to <span class="text-color-brand">$2k</span> per month with Owner'):p.html('Good news! Restaurants see online sales grow by up to <span class="text-color-brand">$8k</span> per month with Owner'),l&&l.click()}),$(document).off("change",'.goals-screen input[name="goals"]')}let o=document.querySelectorAll('[class*="step-"]'),a=document.querySelector('[data-form="back-btn"]'),l=document.querySelector('[data-form="next-btn"]'),r=document.querySelector('[data-form="multi-submit-btn"]');if(!o.length)return;let s=document.querySelector(".progressbar-left"),h=document.getElementById("wf-form-email-form-v2"),k=document.getElementById("Hear"),f=0;function I(_="next"){let u=document.querySelector(".all-screens");u&&(u.style.overflow="hidden"),o.forEach((g,q)=>{g.classList.remove("step-hide","step-active","step-slide","step-enter-left","step-enter-right"),q===f?(g.classList.add("step-slide","step-active"),g.classList.add(_==="next"?"step-enter-right":"step-enter-left"),g.offsetWidth,g.classList.remove("step-enter-left","step-enter-right"),setTimeout(()=>{u&&(u.style.overflow="visible")},400)):g.classList.add("step-hide")});let p=f===0,L=f===o.length-1;s.style.display=p?"none":"flex",l.style.display=p||L?"none":"flex",a.style.display=p?"none":"flex",l.className=l.className.replace(/continue-\d+/g,""),l.classList.add(`continue-${f}`),V()}function V(){document.querySelectorAll(".progressbar__item-2").forEach((u,p)=>{u.classList.toggle("active-bar",p<=f)})}l==null||l.addEventListener("click",async function(){f<o.length-1&&E($(o[f]))&&(f++,I("next"))}),r==null||r.addEventListener("click",async function(){let _=await U();for(let u=0;u<o.length;u++)if($(o[u]).find("[field-validation]").filter(function(){return $(this).css("display")==="block"}).length>0){A(!1),f=u,I("back");break}_?(O=X("#hbst-form"),Y(),await Z(),j[0].submit(),$(".last-button").hide(),setTimeout(()=>{N()},500)):A(!1)}),a==null||a.addEventListener("click",function(){f>0&&(f--,I("prev"))}),$(document).ready(function(){i(),I()})}de()});})();
