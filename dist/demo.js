"use strict";(()=>{var z,ue=new Uint8Array(16);function H(){if(!z&&(z=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!z))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return z(ue)}var h=[];for(let e=0;e<256;++e)h.push((e+256).toString(16).slice(1));function Y(e,t=0){return h[e[t+0]]+h[e[t+1]]+h[e[t+2]]+h[e[t+3]]+"-"+h[e[t+4]]+h[e[t+5]]+"-"+h[e[t+6]]+h[e[t+7]]+"-"+h[e[t+8]]+h[e[t+9]]+"-"+h[e[t+10]]+h[e[t+11]]+h[e[t+12]]+h[e[t+13]]+h[e[t+14]]+h[e[t+15]]}var fe=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),J={randomUUID:fe};function me(e,t,n){if(J.randomUUID&&!t&&!e)return J.randomUUID();e=e||{};let l=e.random||(e.rng||H)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,t){n=n||0;for(let f=0;f<16;++f)t[n+f]=l[f];return t}return Y(l)}var W=me;var p=(e,t)=>{let n=$(`input[name="${e}"]`);n.attr("type")==="checkbox"?n.prop("checked",t):n.val(t)},R=e=>$(`input[name="${e}"]`).val(),Z=()=>{$('select[name="person-type"]').on("change",function(){$(this).val()==="I'm a restaurant owner or manager"?$("#locations-wrap").css("display","flex"):$("#locations-wrap").hide()})};var Q=e=>{let t=localStorage.getItem(e);try{return JSON.parse(t)}catch{return t}};var ee=!1,te=e=>{let t=JSON.parse(localStorage.getItem("restaurant"));if(console.log(t),t&&Array.isArray(t.types)){let n=["bar","cafe","bakery","food","restaurant"];return!t.types.some(f=>n.includes(f))&&!ee?(k(e),ee=!0,!1):!0}return!1};function pe(e){let n=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,}$/.test($(e).val());return k($(e),!n,"Please fill correct email address."),n}function he(e){let t=!0;return t=ge(e),t}function ge(e){let t=te(e);return t?k($(e),!1):k($(e),!0),t}function _e(e){let t,n=$(e).siblings(".select2"),l=$(e).siblings(".nice-select");n?t=n.find(".select2-selection--single"):l?t=$(l):t=$(e);let f=!0;return $(e).val()===""?(validArr.push(selectVal),$(t).addClass("is-invalid"),f=!1):$(t).removeClass("is-invalid"),f}function ye(e){return $(e).is(":checked")?(k($(e),!1),!0):(k($(e),!0),!1)}function ve(e){let t=$(e).attr("name"),n=$(`input[name="${t}"]`);return n.is(":checked")?($(n).closest(".radio-group").removeClass("is-invalid"),k($(n[0]),!1),!0):($(n).closest(".radio-group").addClass("is-invalid"),k($(n[0]),!0,"Please select an option."),!1)}function be(e){return k($(e),!1),!0}function we(e){return $(e).attr("name")==="restaurant-name"&&k($(e),!0,"Please select a business location from the search results."),k($(e),!0),!1}var ne=e=>{let t=e,n=!0;return $(t).prop("required")&&($(t).is('[type="checkbox"]')?n=ye(t):$(t).is('[type="radio"]')?n=ve(t):$(t).val()?$(t).is('[type="email"]')?n=pe(t):$(t).attr("name")==="restaurant-name"?n=he(t):$(t).is("select")?n=_e(t):n=be(t):n=we(t)),n?k($(t),!1):$(t).addClass("error"),n},k=(e,t,n)=>{let l=$(e).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(e).closest(".form-field, [form-field]").toggleClass("error",t),l.toggle(t),n&&l.text(n)};var $e={name:["company","0-2/name"],international_phone_number:["phone","0-2/phone"],"restaurant-address":["address","0-2/address"],locality:["city","0-2/city"],administrative_area_level_1:["state","0-2/state"],postal_code:["zip","0-2/zip"],country:["country","0-2/country"],"first-name":"firstname","last-name":"lastname",cellphone:"mobilephone",email:"email","person-type":"lead_person_type",website:"website",place_id:"place_id",url:"place_cid",place_types:["place_types_contact","0-2/place_types"],rating:"place_rating",user_ratings_total:"user_ratings_total","number-of-locations":"of_locations_number",hear:"how_did_you_hear_about_us",page_url:"last_pdf_download",page_lang:"page_lang",brizo_id:["brizo_id","0-2/brizo_id_account"],base_enrich_date:["auto_enrich_date","0-2/auto_enrich_date_company"],inbound_add_to_cadence:"inbound_add_to_cadence",execution_time_seconds:"auto_enrich_time",auto_dq_flag:"auto_dq_static",auto_dq_reason:["auto_dq_reason","0-2/auto_dq_reason_company"],gmv_pred:["pred_gmv","0-2/pred_gmv_company"],sms_opt_in:"sms_opt_in",referrer_s_phone_number:"referrer_s_phone_number"},xe=(e,l)=>{var n=$(e),l=$(l),f=$e;Object.keys(f).forEach(function(m){var P=f[m],v=n.find('input[name="'+m.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]');v.length===0&&(v=n.find('select[name="'+m.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]'));var F=v.val();Array.isArray(P)||(P=[P]),P.forEach(function(V){var w=l.find("input[name="+V.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+"]");w.attr("type")==="checkbox"?String(F).toLowerCase()==="true"||String(F).toLowerCase()==="on"?w.prop("checked",!0):w.prop("checked",!1):ke(w,".hs-datepicker")?w.siblings("input[readonly]").val(F).change():w.val(F),["phone","mobilephone","email","pred_gmv"].includes(V)&&(w.get(0).focus({preventScrol:!0}),w.get(0).blur())})})},Se=e=>{let t=!1;var n=e.find("input[name=mobilephone]").parent().siblings(".hs-error-msgs").find(".hs-error-msg").text(),l=$('input[name="cellphone"]').closest("[field-wrapper]").find("[field-validation]");n?(t=!0,l.text(n),l.show()):l.hide();var f=e.find("input[name=email]").closest(".hs-fieldtype-text").find(".hs-error-msgs").find(".hs-error-msg").text(),m=$('input[name="email"]').closest("[field-wrapper]").find("[field-validation]");return f?(m.text(f),m.show(),t=!0):m.hide(),t};function oe(e){se(e)}function ae(){return new Promise(function(e){se=e})}var re=(e,t)=>(xe(e,t),new Promise(n=>{let l;setTimeout(()=>{l=Se(t),n(!l)},3e3)}));function q(e){let t=$("[form-loader]");e?(t.find('[data-animation-type="lottie"]').trigger("click"),t.fadeIn()):t.hide()}var se;function ke(e,t){let n=e[0]||e.get(0);if(!n)return!1;let{parentNode:l}=n;return l?Array.from(l.children).some(f=>f!==n&&f.matches(t)):!1}function Ie(){let e={},t=window.location.search;return t&&new URLSearchParams(t).forEach(function(l,f){let m=f.toLowerCase();e[m]=l}),e}function Ee(e){Object.keys(e).length>0&&sessionStorage.setItem("utmWebParams",JSON.stringify(e))}function K(){let e=sessionStorage.getItem("utmWebParams");if(!e)return{};try{return JSON.parse(e)}catch(t){return console.error("Error parsing UTM params from sessionStorage:",t),{}}}function Ce(){let e=Ie(),n={...K()};return Object.keys(e).length>0&&(Object.keys(e).forEach(l=>{n[l]=e[l]}),Ee(n)),n}$(document).ready(function(){let e=Ce();console.log("UTM Parameters:",e)});function Fe(){if(!window.mixpanel||!window.mixpanel.__SV){var e=window.mixpanel=window.mixpanel||[];e._i=[],e.init=function(l,f,m){function P(T,b){var U=b.split(".");U.length==2&&(T=T[U[0]],b=U[1]),T[b]=function(){T.push([b].concat(Array.prototype.slice.call(arguments,0)))}}var v=e;typeof m!="undefined"?v=e[m]=[]:m="mixpanel",v.people=v.people||[],v.toString=function(T){var b="mixpanel";return m!=="mixpanel"&&(b+="."+m),T||(b+=" (stub)"),b},v.people.toString=function(){return v.toString(1)+".people (stub)"};for(var F="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),V=0;V<F.length;V++)P(v,F[V]);var w="set set_once union unset remove delete".split(" ");v.get_group=function(){function T(L){b[L]=function(){call2_args=arguments,call2=[L].concat(Array.prototype.slice.call(call2_args,0)),v.push([U,call2])}}for(var b={},U=["get_group"].concat(Array.prototype.slice.call(arguments,0)),A=0;A<w.length;A++)T(w[A]);return b},e._i.push([l,f,m])},e.__SV=1.2;var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=typeof MIXPANEL_CUSTOM_LIB_URL!="undefined"?MIXPANEL_CUSTOM_LIB_URL:document.location.protocol==="file:"&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}Fe();mixpanel.init("8e3c791cba0b20f2bc5aa67d9fb2732a",{record_sessions_percent:100,record_mask_text_selector:""});$(document).ready(()=>{let e,t=typeof scheduleFlow!="undefined"&&scheduleFlow,n=$.cookie("webTempTatariUserId");n||(n=W(),$.cookie("webTempTatariUserId",n,{domain:".owner.com",path:"/"})),window.webUserId=n,typeof n!="undefined"&&n&&mixpanel.identify(n);function l(s){function a(){let{userAgent:E}=navigator,C=navigator.appName,{platform:x}=navigator,{language:d}=navigator;return{userAgent:E,browser:C,platform:x,language:d}}let r=a(),i=N.find($("input[name=first-name]")).val(),o=N.find($("input[name=last-name]")).val(),c=N.find($("input[name=name]")).val(),g=N.find($("input[name=cellphone]")).val(),I=N.find($("input[name=email]")).val(),u={displayName:i+" "+o,restaurantName:c,phone:g,email:I,firstName:i,lastName:o,...r};typeof mixpanel!="undefined"&&mixpanel&&(mixpanel.identify(n),mixpanel.people.set({$first_name:i,$last_name:o,$email:I,$phone:g,restaurantName:c,...r}),mixpanel.track(s,u))}function f(){var s="db833abde57f505b06b0e4b2bfe5e24f",a="2226621",r=document.createElement("img");r.src="https://ct.capterra.com/capterra_tracker.gif?vid="+a+"&vkey="+s,document.body.appendChild(r)}let m=()=>Q("restaurant");function P(){return new Promise((s,a)=>{try{if(t){let r=m();e=void 0;let i=$('select[name="person-type"]').val()==="I'm a restaurant owner or manager",o=r.address_components.some(c=>c.short_name==="US");(!i||!o)&&(l("Submission Disqualified"),e=!1)}else e=!1;s()}catch(r){a(r)}})}function v(){let s=m(),a={name:s.name,address:s.formatted_address,website:s.website,email:"jonathan@owner.com",token:"AJXuyxPXgGF68NMv",sfdc_id:"None"},r;function i(o){return new Promise((c,g)=>{$.ajax({url:"https://owner-ops.net/business-info/",type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(o),timeout:15e3,success:function(I){console.log(I),c(I)},error:function(I,u,E){u==="timeout"&&(p("execution_time_seconds",15),p("gmv_pred",0)),c("")}})})}return i(a).then(o=>o[0]).catch(o=>(console.error("Error:",o),!1))}function F(s,a){let r=$("[demo-form] input"),i=["brizo_id","base_enrich_date","inbound_add_to_cadence","execution_time_seconds","auto_dq_flag","auto_dq_reason","gmv_pred"];a?r.each(function(){let o=$(this).attr("name");if(i.includes(o)&&s.hasOwnProperty(o)){var c=s[o];typeof c=="string"&&c.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?$(this).val(c.split("T")[0]):typeof c=="number"||!isNaN(c)&&!isNaN(parseFloat(c))?$(this).val(Number(c).toFixed(2)):$(this).val(c)}}):w(!1)}function V(s){let a=!0;return s.find(":input:visible, select").each(function(){let r=ne($(this));a=a&&r}),a}function w(s){p("base_enrich_date",new Date().toISOString().slice(0,10)),p("inbound_add_to_cadence","true"),s===!1&&(p("execution_time_seconds",0),p("auto_dq_flags","true")),s===!0&&(p("execution_time_seconds",0),p("auto_dq_reason","none"),p("auto_dq_flags","false"),p("self_service_scheduling_shown",!0))}function T(){p("page_url",t?"/demo-schedule":window.location.pathname),p("page_lang",$("html").attr("lang")),p("url",(()=>{var a=m();if(a&&a.url){var r=a.url;return r.split("cid=")[1]}return"none"})());function s(){let a=K();if(!a||Object.keys(a).length===0)return;let r=$("input"),i={},o={};r.each(function(){let c=$(this).attr("name");if(c)if(c.startsWith("0-2/")){let g=c.substring(4);o[g]=$(this)}else i[c]=$(this)}),Object.keys(a).forEach(c=>{let g=a[c];g&&(i[c]&&i[c].val(g),o[c]&&o[c].val(g))})}s(),p("web_user_id",n)}function b(s){let a;if($('[data-form="submit-btn"]').is(":visible")?a=$('[data-form="submit-btn"]'):a=$('[data-form="next-btn"]'),s){let r=a.text();a.addClass("disabled"),a.attr("data-original-text",r),a.children("div:first-child").text("Processing")}else{let r=a.attr("data-original-text");a.removeClass("disabled"),a.children("div:first-child").text(r)}}async function U(){if(b(!0),V(N)){q(!0);try{if(await P(),typeof e!="boolean"){let r=await v(),i=r.auto_dq_flag;p("self_service_enrichment_api_used",!0),typeof i=="string"?(e=r.auto_dq_flag!=="True",F(r,!0),e&&p("self_service_scheduling_shown",!0)):(e=!1,F(r,!1))}else w(e)}catch{e=!1}return T(),l("Form Button Clicked"),b(!1),await re(N,j)}return b(!1),!1}async function A(){await U()?(M=ie("#hbst-form"),j[0].submit()):q(!1)}let L=()=>{let s=$(".demo-form_success"),a=!window.location.href.includes("/blog/")&&!window.location.href.includes("/resources/")&&!window.location.href.includes("/downloads/"),r=N.attr("data-custom-redirect"),i=t&&e&&!r;if(N.hide(),q(!1),i)if(window.defaultSchedulerUrl){let g=function(I){var u=$.extend({},o,I);$(u.selector).html('<div class="meetings-iframe-container" data-src="'+u.link+`?embed=true&firstName=${u.fName}&lastName=${u.lName}&email=${u.email}&company=${u.company}"></div>`),$.getScript("https://static.hsappstatic.net/MeetingsEmbed/ex/MeetingsEmbedCode.js").done(function(){s.show()})};var c=g,o={link:window.defaultSchedulerUrl,selector:".demo-form_success",email:R("email"),fName:R("first-name"),lName:R("last-name"),company:R("name")};g()}else s.show(),window.location.href="https://www.owner.com/funnel-demo-requested";r?(s.show(),window.location.href=r):a&&!i?(s.show(),window.location.href="https://www.owner.com/funnel-demo-requested"):i||s.show()},N=$("[demo-form]"),j,D="f3807262-aed3-4b9c-93a3-247ad4c55e60",X="6449395",B=window.location.href;B.indexOf("/resources/")!==-1&&(D="66b9776c-c640-4b5a-8807-439a721001ff"),B.indexOf("refer")!==-1&&(D="969fbdc3-b662-4428-a208-c78b8f20efa6"),B.indexOf("dev")!==-1&&(D="e13f4000-0da1-48db-bc88-752e55c82fe7",X="50356338"),hbspt.forms.create({portalId:X,formId:D,target:"#hbst-form",onFormReady:oe,onFormSubmit:function(){l("Form Submission Attempt")},onFormSubmitted:async()=>{l("Form Submission Sent"),f(),le(),await ce(),setTimeout(()=>{L()},200)}}),ae().then(function(s){j=$(s)}),$("[data-form=submit-btn]").on("click",A),Z(),$("[data-cleave-phone]").each(function(){new Cleave($(this),{numericOnly:!0,blocks:[0,3,3,4,10],delimiters:["(",") ","-"],delimiterLazyShow:!0})});let M=null,G=!1;function ie(s){let a=$(s),r=[],i={};return a.find("input, textarea, select").each(function(){let o=$(this),c=o.attr("type"),g=o.prop("tagName").toLowerCase(),I=o.attr("name"),u=o.attr("id"),E=$(`label[for="${u}"]`).text().trim()||o.closest(".field, .hs-form-field").find("label").text().trim()||o.attr("placeholder")||I;if(!I||o.attr("type")==="hidden"||o.attr("type")==="submit")return;let C="input",x=[],d="";if(c==="checkbox"){if(o.is(":checked"))d=o.val();else return;let _=o.val()||"true",y=r.find(O=>O.name===E.replace(/\*$/,"").trim());if(y){if(y.type="checkbox",y.options.includes(_)||y.options.push(_),d){let O=i[y.id];O?i[y.id]=Array.isArray(O)?[...O,d]:[O,d]:i[y.id]=d}return}C="checkbox",x=[_]}else if(c==="radio"){if(o.is(":checked"))d=o.val();else return;let _=r.find(y=>y.name===E);if(_){_.options.includes(o.val())||_.options.push(o.val()),d&&(i[_.id]=d);return}C="radio",x=[o.val()]}else{if(d=o.val(),!d||d.trim()==="")return;c==="email"?C="email":c==="tel"||c==="phone"?C="tel":g==="textarea"?C="textarea":g==="select"&&(C="select",o.find("option").each(function(){let _=$(this).val();_&&!$(this).is(":disabled")&&x.push(_)}))}let S=E.replace(/\*$/,"").trim();if(S&&u&&d!==""&&d!==null&&d!==void 0){let _={id:u,name:S,type:C};x.length>0&&(_.options=x),r.push(_),i[u]=d}}),{questions:r,responses:i}}function le(){if(!M){console.error("No form data captured");return}let s=Object.keys(M.responses).find(o=>o.includes("email")),a=s?M.responses[s]:null;if(!a){console.error("No email found in form responses"),window.defaultSchedulerUrl=null,G=!0;return}let r={form_id:864618,team_id:514,email:a,responses:{email:a},questions:[{id:"email",name:"Email",type:"email",options:[]}]};console.log("=== TESTING WITH YOUR CREDENTIALS ==="),console.log("Submission:",r);let i={autoSchedulerDisplay:!1,onSuccess:o=>{console.log("SUCCESS:",o),window.defaultSchedulerUrl=o?o.scheduler_url||o.url:null,G=!0},onError:o=>{console.error("ERROR:",o),window.defaultSchedulerUrl=null,G=!0}};window.DefaultSDK.submit(r,i)}function ce(s=5e3){return new Promise(a=>{let r=Date.now(),i=()=>{G||Date.now()-r>s?a():setTimeout(i,100)};i()})}function de(){function s(){$(document).ready(function(){$('.goals-screen input[name="goals"]').closest("label").removeClass("is-active")}),$(document).on("click",'.goals-screen input[name="goals"]',function(x){let d=$(this).val();$('.goals-screen input[name="goals"]').closest("label").removeClass("is-active"),$(this).closest("label").addClass("is-active");var S=$("#screen2_heading");d==="All of the above"?S.html('Good news! Restaurants see online sales grow by up to <span class="text-color-brand">$8k</span> per month and reduce costs by up to <span class="text-color-brand">$2k</span> per month with Owner'):d==="Reduce my costs"?S.html('Good news! Restaurants see costs reduce by up to <span class="text-color-brand">$2k</span> per month with Owner'):S.html('Good news! Restaurants see online sales grow by up to <span class="text-color-brand">$8k</span> per month with Owner'),i&&i.click()}),$(document).off("change",'.goals-screen input[name="goals"]')}let a=document.querySelectorAll('[class*="step-"]'),r=document.querySelector('[data-form="back-btn"]'),i=document.querySelector('[data-form="next-btn"]'),o=document.querySelector('[data-form="multi-submit-btn"]');if(!a.length)return;let c=document.querySelector(".progressbar-left"),g=document.getElementById("wf-form-email-form-v2"),I=document.getElementById("Hear"),u=0;function E(x="next"){let d=document.querySelector(".all-screens");d&&(d.style.overflow="hidden"),a.forEach((y,O)=>{y.classList.remove("step-hide","step-active","step-slide","step-enter-left","step-enter-right"),O===u?(y.classList.add("step-slide","step-active"),y.classList.add(x==="next"?"step-enter-right":"step-enter-left"),y.offsetWidth,y.classList.remove("step-enter-left","step-enter-right"),setTimeout(()=>{d&&(d.style.overflow="visible")},400)):y.classList.add("step-hide")});let S=u===0,_=u===a.length-1;c.style.display=S?"none":"flex",i.style.display=S||_?"none":"flex",r.style.display=S?"none":"flex",i.className=i.className.replace(/continue-\d+/g,""),i.classList.add(`continue-${u}`),C()}function C(){document.querySelectorAll(".progressbar__item-2").forEach((d,S)=>{d.classList.toggle("active-bar",S<=u)})}i==null||i.addEventListener("click",async function(){u<a.length-1&&V($(a[u]))&&(u++,E("next"))}),o==null||o.addEventListener("click",async function(){let x=await U();for(let d=0;d<a.length;d++)if($(a[d]).find("[field-validation]").filter(function(){return $(this).css("display")==="block"}).length>0){q(!1),u=d,E("back");break}x?(j[0].submit(),$(".last-button").hide()):q(!1)}),r==null||r.addEventListener("click",function(){u>0&&(u--,E("prev"))}),$(document).ready(function(){s(),E()})}de()});})();
