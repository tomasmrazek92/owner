"use strict";(()=>{var d=(t,e)=>{$(`input[name=${t}]`).val(e)};var w="restaurant";var f=()=>{let t=JSON.parse(localStorage.getItem(w)),e=["bar","cafe","bakery","food","restaurant"];for(let a=0;a<e.length;a++)if(t.types.includes(e[a]))return!0;return!1};function x(t){let a=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test($(t).val());return l($(t),!a,"Please fill correct email address."),a}function I(t){let e=!0;return e=S(t),e}var m=!1;function S(t){if(m)return m=!1,!0;let e=f();return e?l($(t),!1):l($(t),!0,"Are you sure this is correct? Please update your entry to a recognized restaurant."),m=!0,e}function V(t){let e,a=$(t).siblings(".select2"),r=$(t).siblings(".nice-select");a?e=a.find(".select2-selection--single"):r?e=$(r):e=$(t);let n=!0;return $(t).val()===""?(validArr.push(selectVal),$(e).addClass("is-invalid"),n=!1):$(e).removeClass("is-invalid"),n}function F(t){return l($(t),!1),!0}function k(t){return $(t).attr("name")==="restaurant-name"&&l($(t),!0,"Please select a business location from the search results."),l($(t),!0),!1}var h=t=>{let e=t,a=!0;return $(e).prop("required")&&($(e).val()?$(e).is('[type="email"]')?a=x(e):$(e).attr("name")==="restaurant-name"?a=I(e):$(e).is("select")?a=V(e):a=F(e):a=k(e)),a?l($(e),!1):$(e).addClass("error"),a},l=(t,e,a)=>{let r=$(t).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(t).closest(".form-field, [form-field]").toggleClass("error",e),r.toggle(e),a&&r.text(a)};var g=(t,n,a)=>{var r=$(t),n=$(n);Object.keys(a).forEach(function(o){var s=a[o],i=r.find('input[name="'+o.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]');i.length===0&&(i=r.find('select[name="'+o.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]'));var p=i.val();Array.isArray(s)||(s=[s]),s.forEach(function(u){var c=n.find("input[name="+u.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+"]");c.val(p),["phone","mobilephone","email"].includes(u)&&(c.get(0).focus(),c.get(0).blur())})})},E=t=>{let e=!1;var a=t.find("input[name=mobilephone]").parent().siblings(".hs-error-msgs").find(".hs-error-msg").text(),r=$('input[name="cellphone"]').closest("[field-wrapper]").find("[field-validation]");a?(e=!0,r.text(a),r.show()):r.hide();var n=t.find("input[name=email]").closest(".hs-fieldtype-text").find(".hs-error-msgs").find(".hs-error-msg").text(),o=$('input[name="email"]').closest("[field-wrapper]").find("[field-validation]");return n?(o.text(n),o.show(),e=!0):o.hide(),e};function v(t){y(t)}function b(){return new Promise(function(t){y=t})}var _=t=>{let e=$('[data-form="submit-btn"]'),a=e.text(),r,n=0,o=[".","..","..."],s=()=>{let c=`Submitting${o[n]}`;e.text(c),n=(n+1)%o.length},i=()=>{e.addClass("disabled")},p=()=>{e.removeClass("disabled").text(a)};i();let u=setInterval(s,500);setTimeout(()=>{r=E(t),clearInterval(u),p(),r||t.find("input[type=submit]").trigger("click")},3e3)},y;$(document).ready(()=>{$(".nice-select li").on("click",function(){$(".nice-select .current").css("color","white")});let t=$("#demo-form"),e,a=()=>{gtag("event","ecap",{event_category:"lead",event_label:"ecap",value:1}),window.location.href="https://www.owner.com/funnel-demo-requested"};hbspt.forms.create({portalId:"6449395",formId:"f3807262-aed3-4b9c-93a3-247ad4c55e60",target:"#hbst-form",onFormReady:v,onFormSubmitted:a}),b().then(function(n){e=$(n)});let r={name:["company","0-2/name"],international_phone_number:["phone","0-2/phone"],"restaurant-address":["address","0-2/address"],locality:["city","0-2/city"],administrative_area_level_1:["state","0-2/state"],postal_code:["zip","0-2/zip"],country:["country","0-2/country"],"first-name":"firstname","last-name":"lastname",cellphone:"mobilephone",email:"email","person-type":"lead_person_type",website:"website",place_id:"place_id",place_types:["place_types_contact","0-2/place_types"],rating:"place_rating",user_ratings_total:"user_ratings_total","number-of-locations":"of_locations_number",hear:"how_did_you_hear_about_us",page_url:"last_pdf_download",page_lang:"page_lang"};$("[data-form=submit-btn]").on("click",function(n){let o=$(this);n.preventDefault();let s=!0;t.find(":input:visible, select").each(function(){let i=h($(this));s=s&&i}),s&&(d("page_url",window.location.pathname),d("page_lang",$("html").attr("lang")),g(t,e,r),_(e))}),$('select[name="person-type"]').on("change",function(){$(this).val()==="I'm a restaurant owner or manager"?$("#locations-wrap").show():$("#locations-wrap").hide()})});})();
