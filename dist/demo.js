"use strict";(()=>{var z,pe=new Uint8Array(16);function J(){if(!z&&(z=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!z))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return z(pe)}var v=[];for(let e=0;e<256;++e)v.push((e+256).toString(16).slice(1));function Z(e,t=0){return v[e[t+0]]+v[e[t+1]]+v[e[t+2]]+v[e[t+3]]+"-"+v[e[t+4]]+v[e[t+5]]+"-"+v[e[t+6]]+v[e[t+7]]+"-"+v[e[t+8]]+v[e[t+9]]+"-"+v[e[t+10]]+v[e[t+11]]+v[e[t+12]]+v[e[t+13]]+v[e[t+14]]+v[e[t+15]]}var me=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),H={randomUUID:me};function he(e,t,n){if(H.randomUUID&&!t&&!e)return H.randomUUID();e=e||{};let l=e.random||(e.rng||J)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,t){n=n||0;for(let u=0;u<16;++u)t[n+u]=l[u];return t}return Z(l)}var W=he;var g=(e,t)=>{let n=$(`input[name="${e}"]`);n.attr("type")==="checkbox"?n.prop("checked",t):n.val(t)},L=e=>$(`input[name="${e}"]`).val(),ee=()=>{$('select[name="person-type"]').on("change",function(){$(this).val()==="I'm a restaurant owner or manager"?$("#locations-wrap").css("display","flex"):$("#locations-wrap").hide()})};var K=e=>{let t=localStorage.getItem(e);try{return JSON.parse(t)}catch{return t}};var te=!1,ne=e=>{let t=JSON.parse(localStorage.getItem("restaurant"));if(console.log(t),t&&Array.isArray(t.types)){let n=["bar","cafe","bakery","food","restaurant"];return!t.types.some(u=>n.includes(u))&&!te?(q(e),te=!0,!1):!0}return!1};function ge(e){let n=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,}$/.test($(e).val());return q($(e),!n,"Please fill correct email address."),n}function _e(e){let t=!0;return t=ye(e),t}function ye(e){let t=ne(e);return t?q($(e),!1):q($(e),!0),t}function ve(e){let t,n=$(e).siblings(".select2"),l=$(e).siblings(".nice-select");n?t=n.find(".select2-selection--single"):l?t=$(l):t=$(e);let u=!0;return $(e).val()===""?(validArr.push(selectVal),$(t).addClass("is-invalid"),u=!1):$(t).removeClass("is-invalid"),u}function be(e){return $(e).is(":checked")?(q($(e),!1),!0):(q($(e),!0),!1)}function we(e){let t=$(e).attr("name"),n=$(`input[name="${t}"]`);return n.is(":checked")?($(n).closest(".radio-group").removeClass("is-invalid"),q($(n[0]),!1),!0):($(n).closest(".radio-group").addClass("is-invalid"),q($(n[0]),!0,"Please select an option."),!1)}function $e(e){return q($(e),!1),!0}function xe(e){return $(e).attr("name")==="restaurant-name"&&q($(e),!0,"Please select a business location from the search results."),q($(e),!0),!1}var oe=e=>{let t=e,n=!0;return $(t).prop("required")&&($(t).is('[type="checkbox"]')?n=be(t):$(t).is('[type="radio"]')?n=we(t):$(t).val()?$(t).is('[type="email"]')?n=ge(t):$(t).attr("name")==="restaurant-name"?n=_e(t):$(t).is("select")?n=ve(t):n=$e(t):n=xe(t)),n?q($(t),!1):$(t).addClass("error"),n},q=(e,t,n)=>{let l=$(e).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(e).closest(".form-field, [form-field]").toggleClass("error",t),l.toggle(t),n&&l.text(n)};var Se={name:["company","0-2/name"],international_phone_number:["phone","0-2/phone"],"restaurant-address":["address","0-2/address"],locality:["city","0-2/city"],administrative_area_level_1:["state","0-2/state"],postal_code:["zip","0-2/zip"],country:["country","0-2/country"],"first-name":"firstname","last-name":"lastname",cellphone:"mobilephone",email:"email","person-type":"lead_person_type",website:"website",place_id:"place_id",url:"place_cid",place_types:["place_types_contact","0-2/place_types"],rating:"place_rating",user_ratings_total:"user_ratings_total","number-of-locations":"of_locations_number",hear:"how_did_you_hear_about_us",page_url:"last_pdf_download",page_lang:"page_lang",brizo_id:["brizo_id","0-2/brizo_id_account"],base_enrich_date:["auto_enrich_date","0-2/auto_enrich_date_company"],inbound_add_to_cadence:"inbound_add_to_cadence",execution_time_seconds:"auto_enrich_time",auto_dq_flag:"auto_dq_static",auto_dq_reason:["auto_dq_reason","0-2/auto_dq_reason_company"],gmv_pred:["pred_gmv","0-2/pred_gmv_company"],brand_emrr:"default_brand_emrr",sms_opt_in:"sms_opt_in",referrer_s_phone_number:"referrer_s_phone_number"},ke=(e,l)=>{var n=$(e),l=$(l),u=Se;Object.keys(u).forEach(function(h){var E=u[h],y=n.find('input[name="'+h.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]');y.length===0&&(y=n.find('select[name="'+h.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]'));var V=y.val();y.attr("type")==="checkbox"&&(V=y.is(":checked")?"true":"false"),Array.isArray(E)||(E=[E]),E.forEach(function(T){var C=l.find("input[name="+T.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+"]");if(C.attr("type")==="checkbox"?C.prop("checked",String(V).toLowerCase()==="true"):Fe(C,".hs-datepicker")?C.siblings("input[readonly]").val(V).change():C.val(V),["phone","mobilephone","email","pred_gmv"].includes(T)){let w=C.get(0);w&&(w.focus({preventScroll:!0}),w.blur())}})})},Ie=e=>{let t=!1;var n=e.find("input[name=mobilephone]").parent().siblings(".hs-error-msgs").find(".hs-error-msg").text(),l=$('input[name="cellphone"]').closest("[field-wrapper]").find("[field-validation]");n?(t=!0,l.text(n),l.show()):l.hide();var u=e.find("input[name=email]").closest(".hs-fieldtype-text").find(".hs-error-msgs").find(".hs-error-msg").text(),h=$('input[name="email"]').closest("[field-wrapper]").find("[field-validation]");return u?(h.text(u),h.show(),t=!0):h.hide(),t};function ae(e){ie(e)}function re(){return new Promise(function(e){ie=e})}var se=(e,t)=>(ke(e,t),new Promise(n=>{let l;setTimeout(()=>{l=Ie(t),n(!l)},3e3)}));function A(e){let t=$("[form-loader]");e?(t.find('[data-animation-type="lottie"]').trigger("click"),t.fadeIn()):t.hide()}var ie;function Fe(e,t){let n=e[0]||e.get(0);if(!n)return!1;let{parentNode:l}=n;return l?Array.from(l.children).some(u=>u!==n&&u.matches(t)):!1}function qe(){let e={},t=window.location.search;return t&&new URLSearchParams(t).forEach(function(l,u){let h=u.toLowerCase();e[h]=l}),e}function Ce(e){Object.keys(e).length>0&&sessionStorage.setItem("utmWebParams",JSON.stringify(e))}function Q(){let e=sessionStorage.getItem("utmWebParams");if(!e)return{};try{return JSON.parse(e)}catch(t){return console.error("Error parsing UTM params from sessionStorage:",t),{}}}function Ee(){let e=qe(),n={...Q()};return Object.keys(e).length>0&&(Object.keys(e).forEach(l=>{n[l]=e[l]}),Ce(n)),n}$(document).ready(function(){let e=Ee();console.log("UTM Parameters:",e)});function Ve(){if(!window.mixpanel||!window.mixpanel.__SV){var e=window.mixpanel=window.mixpanel||[];e._i=[],e.init=function(l,u,h){function E(w,S){var U=S.split(".");U.length==2&&(w=w[U[0]],S=U[1]),w[S]=function(){w.push([S].concat(Array.prototype.slice.call(arguments,0)))}}var y=e;typeof h!="undefined"?y=e[h]=[]:h="mixpanel",y.people=y.people||[],y.toString=function(w){var S="mixpanel";return h!=="mixpanel"&&(S+="."+h),w||(S+=" (stub)"),S},y.people.toString=function(){return y.toString(1)+".people (stub)"};for(var V="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),T=0;T<V.length;T++)E(y,V[T]);var C="set set_once union unset remove delete".split(" ");y.get_group=function(){function w(j){S[j]=function(){call2_args=arguments,call2=[j].concat(Array.prototype.slice.call(call2_args,0)),y.push([U,call2])}}for(var S={},U=["get_group"].concat(Array.prototype.slice.call(arguments,0)),R=0;R<C.length;R++)w(C[R]);return S},e._i.push([l,u,h])},e.__SV=1.2;var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=typeof MIXPANEL_CUSTOM_LIB_URL!="undefined"?MIXPANEL_CUSTOM_LIB_URL:document.location.protocol==="file:"&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}function Te(e,t){let n=document.createElement("script");n.src=e,n.async=!0,document.head.appendChild(n),n.onload=function(){t&&t()},n.onerror=function(){console.error("Failed to load script:",e)}}Ve();mixpanel.init("8e3c791cba0b20f2bc5aa67d9fb2732a",{record_sessions_percent:100,record_mask_text_selector:""});$(document).ready(()=>{Te("https://import-cdn.default.com/sdk.js");let e,t=typeof scheduleFlow!="undefined"&&scheduleFlow,n=$.cookie("webTempTatariUserId");n||(n=W(),$.cookie("webTempTatariUserId",n,{domain:".owner.com",path:"/"})),window.webUserId=n,window.dataLayer=window.dataLayer||[],window.dataLayer.push({webUserId:n}),typeof n!="undefined"&&n&&mixpanel.identify(n);function l(r){let o=L("place_id"),a=L("name"),s=L("auto_dq_flag")==="False"?"aql":"non-aql",c=window.location.href.includes("/demo-grader")?"/demo-thank-you-grader":"/funnel-demo-requested";window.location.href=`${r||c}?placeid=${o}&resname=${a}&prosresult=${s}`}function u(r){function o(){let{userAgent:k}=navigator,I=navigator.appName,{platform:_}=navigator,{language:f}=navigator;return{userAgent:k,browser:I,platform:_,language:f}}let a=o(),i=P.find($("input[name=first-name]")).val(),s=P.find($("input[name=last-name]")).val(),c=P.find($("input[name=name]")).val(),p=P.find($("input[name=cellphone]")).val(),d=P.find($("input[name=email]")).val(),m={displayName:i+" "+s,restaurantName:c,phone:p,email:d,firstName:i,lastName:s,...a};typeof mixpanel!="undefined"&&mixpanel&&(mixpanel.identify(n),mixpanel.people.set({$first_name:i,$last_name:s,$email:d,$phone:p,restaurantName:c,...a}),mixpanel.track(r,m))}function h(){var r="db833abde57f505b06b0e4b2bfe5e24f",o="2226621",a=document.createElement("img");a.src="https://ct.capterra.com/capterra_tracker.gif?vid="+o+"&vkey="+r,document.body.appendChild(a)}let E=()=>K("restaurant");function y(){return new Promise((r,o)=>{try{if(t){let a=E();e=void 0;let i=$('select[name="person-type"]').val()==="I'm a restaurant owner or manager",s=a.address_components.some(c=>c.short_name==="US");(!i||!s)&&(u("Submission Disqualified"),e=!1)}else e=!1;r()}catch(a){o(a)}})}function V(){let r=E(),o={name:r.name,address:r.formatted_address,website:r.website,email:"jonathan@owner.com",token:"AJXuyxPXgGF68NMv",sfdc_id:"None"},a;function i(s){return new Promise((c,p)=>{$.ajax({url:"https://owner-ops.net/business-info/",type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(s),timeout:15e3,success:function(d){console.log(d),c(d)},error:function(d,m,k){m==="timeout"&&(g("execution_time_seconds",15),g("gmv_pred",0)),c("")}})})}return i(o).then(s=>s[0]).catch(s=>(console.error("Error:",s),!1))}function T(r,o){let a=$("[demo-form] input"),i=["brizo_id","base_enrich_date","inbound_add_to_cadence","execution_time_seconds","auto_dq_flag","auto_dq_reason","gmv_pred"];if(o){let c=function(){let p=r.gmv_pred,d=parseInt(L("number-of-locations")),m;d===1?m=499+.05*p:m=599+.05*p*d+299*(d-1),g("brand_emrr",m)};var s=c;a.each(function(){let p=$(this).attr("name");if(i.includes(p)&&r.hasOwnProperty(p)){var d=r[p];typeof d=="string"&&d.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?$(this).val(d.split("T")[0]):typeof d=="number"||!isNaN(d)&&!isNaN(parseFloat(d))?$(this).val(Number(d).toFixed(2)):$(this).val(d)}}),c()}else w(!1)}function C(r){let o=!0;return r.find(":input:visible, select").each(function(){let a=oe($(this));o=o&&a}),o}function w(r){g("base_enrich_date",new Date().toISOString().slice(0,10)),g("inbound_add_to_cadence","true"),r===!1&&(g("execution_time_seconds",0),g("auto_dq_flags","true")),r===!0&&(g("execution_time_seconds",0),g("auto_dq_reason","none"),g("auto_dq_flags","false"),g("self_service_scheduling_shown",!0))}function S(){g("page_url",t?"/demo-schedule":window.location.pathname),g("page_lang",$("html").attr("lang")),g("url",(()=>{var o=E();if(o&&o.url){var a=o.url;return a.split("cid=")[1]}return"none"})());function r(){let o=Q();if(!o||Object.keys(o).length===0)return;let a=$("input"),i={},s={};a.each(function(){let c=$(this).attr("name");if(c)if(c.startsWith("0-2/")){let p=c.substring(4);s[p]=$(this)}else i[c]=$(this)}),Object.keys(o).forEach(c=>{let p=o[c];p&&(i[c]&&i[c].val(p),s[c]&&s[c].val(p))})}r(),g("web_user_id",n)}function U(r){let o;if($('[data-form="submit-btn"]').is(":visible")?o=$('[data-form="submit-btn"]'):o=$('[data-form="next-btn"]'),r){let a=o.text();o.addClass("disabled"),o.attr("data-original-text",a),o.children("div:first-child").text("Processing")}else{let a=o.attr("data-original-text");o.removeClass("disabled"),o.children("div:first-child").text(a)}}async function R(){if(U(!0),C(P)){A(!0);try{if(await y(),typeof e!="boolean"){let a=await V(),i=a.auto_dq_flag;g("self_service_enrichment_api_used",!0),typeof i=="string"?(e=a.auto_dq_flag!=="True",T(a,!0),e&&g("self_service_scheduling_shown",!0)):(e=!1,T(a,!1))}else w(e)}catch{e=!1}return S(),u("Form Button Clicked"),U(!1),await se(P,N)}return U(!1),!1}async function j(){await R()?(console.log("Form Attempt"),O=Y(),console.log(O),u("Form Submission Attempt"),N[0].submit()):A(!1)}let le=()=>{let r=$(".demo-form_success"),o=!window.location.href.includes("/blog/")&&!window.location.href.includes("/resources/")&&!window.location.href.includes("/downloads/"),a=P.attr("data-custom-redirect"),i=t&&e&&!a;if(P.hide(),A(!1),i)if(window.defaultSchedulerUrl){let p=function(){var d=new URL(s.link);$(s.selector).html('<div class="meetings-iframe-container" style="width: 100%; height: 900px;"><iframe src="'+d.toString()+'" width="100%" height="100%" frameborder="0" allow="camera; microphone; autoplay; encrypted-media; fullscreen; display-capture"></iframe></div>'),r.css("background-color","white"),r.show()};var c=p,s={link:window.defaultSchedulerUrl,selector:".demo-form_success-box"};p()}else r.show();a?(r.show(),l(a)):o&&!i?(r.show(),l()):i||r.show()},P=$("[demo-form]"),N,M="f3807262-aed3-4b9c-93a3-247ad4c55e60",X="6449395",B=window.location.href;B.indexOf("/resources/")!==-1&&(M="66b9776c-c640-4b5a-8807-439a721001ff"),B.indexOf("refer")!==-1&&(M="969fbdc3-b662-4428-a208-c78b8f20efa6"),B.indexOf("dev")!==-1&&(M="e13f4000-0da1-48db-bc88-752e55c82fe7",X="50356338");let O=null,D=!1;hbspt.forms.create({portalId:X,formId:M,target:"#hbst-form",onFormReady:ae,onFormSubmitted:async()=>{console.log("Submitted"),de(),await ue(),setTimeout(()=>{le()},500),u("Form Submission Sent"),h()}}),re().then(function(r){N=$(r)}),$("[data-form=submit-btn]").on("click",j),ee(),$("[data-cleave-phone]").each(function(){new Cleave($(this),{numericOnly:!0,blocks:[0,3,3,4,10],delimiters:["(",") ","-"],delimiterLazyShow:!0})});function ce(r){let o=$(r),a=o.val().replace(/\D/g,"");if(a!==""){let i=parseInt(a);i>999?o.val("999"):i<1?o.val("1"):o.val(a)}return a!==""&&parseInt(a)>=1&&parseInt(a)<=999}$("#number-of-locations").on("input",function(){ce(this)}),$("#number-of-locations").on("blur",function(){let r=$(this);(r.val()===""||parseInt(r.val())<1)&&r.val("1")});function Y(){let r=$(N),o=[],a={},i={};return r.find("input, textarea, select").each(function(){let s=$(this),c=s.attr("type"),p=s.prop("tagName").toLowerCase(),d=s.attr("name");d&&d.includes("/")&&(d=d.split("/").pop());let m=d,k=$(`label[for="${m}"]`).text().trim()||s.closest(".field, .hs-form-field").find("label").text().trim()||s.attr("placeholder")||d;if(!s.attr("name")||c==="submit"||!k||!m)return;let I="input",_=[],f=s.val()||"";if(c==="checkbox")f=s.is(":checked")?"true":"false",I="checkbox",_=[f];else if(c==="radio"){if(!s.is(":checked"))return;f=s.val().toString(),I="radio",_=[f]}else{if(!f.trim()&&c!=="hidden")return;if(c==="email"){I="email";let b={id:"email",name:"email",label:"email",type:I};_.length&&(b.options=_),o.push(b),a.email=f,i.email=b;return}else c==="tel"||c==="phone"?I="tel":p==="textarea"?I="textarea":p==="select"&&(I="select",s.find("option").each(function(){let b=$(this).val();b&&!$(this).is(":disabled")&&_.push(b.toString())}))}if(i[k]){let b=i[k];if(_.length&&_.forEach(F=>{let G=F.toString();b.options||(b.options=[]),b.options.includes(G)||b.options.push(G)}),I==="checkbox"){let F=a[b.id];a[b.id]=F?Array.isArray(F)?[...F,f]:[F,f]:[f]}else a[b.id]=f;return}let x={id:m,name:d,label:k,type:I};_.length&&(x.options=_),o.push(x),a[m]=f,i[k]=x}),{questions:o,responses:a}}function de(){if(!O){console.error("No form data");return}let r=Object.keys(O.responses).find(s=>s.includes("email")),o=r?O.responses[r]:null;if(!o){console.error("No email found"),window.defaultSchedulerUrl=null,D=!0;return}let a={form_id:593374,team_id:514,email:o,responses:O.responses,questions:O.questions},i={autoSchedulerDisplay:!1,onSuccess:s=>{console.log("SUCCESS:",s),window.defaultSchedulerUrl=s?s.body.stepDetails.url:null,D=!0},onError:s=>{console.error("ERROR:",s),window.defaultSchedulerUrl=null,D=!0},onSchedulerClosed:s=>{l()},onMeetingBooked:s=>{$("[data-form-success]").css("display","flex"),setTimeout(()=>{let c=5,p=$("[data-redirect-timer]");p.text(c);let d=setInterval(()=>{c--,p.text(c),c===0&&(clearInterval(d),l())},1e3)},0),console.log("Meeting booked successfully!",s.payload)}};window.DefaultSDK.submit(a,i)}function ue(r=6e4){return new Promise(o=>{let a=Date.now(),i=()=>{D||Date.now()-a>r?o():setTimeout(i,100)};i()})}function fe(){function r(){$(document).ready(function(){$('.goals-screen input[name="goals"]').closest("label").removeClass("is-active")}),$(document).on("click",'.goals-screen input[name="goals"]',function(_){let f=$(this).val();$('.goals-screen input[name="goals"]').closest("label").removeClass("is-active"),$(this).closest("label").addClass("is-active");var x=$("#screen2_heading");f==="All of the above"?x.html('Good news! Restaurants see online sales grow by up to <span class="text-color-brand">$8k</span> per month and reduce costs by up to <span class="text-color-brand">$2k</span> per month with Owner'):f==="Reduce my costs"?x.html('Good news! Restaurants see costs reduce by up to <span class="text-color-brand">$2k</span> per month with Owner'):x.html('Good news! Restaurants see online sales grow by up to <span class="text-color-brand">$8k</span> per month with Owner'),i&&i.click()}),$(document).off("change",'.goals-screen input[name="goals"]')}let o=document.querySelectorAll('[class*="step-"]'),a=document.querySelector('[data-form="back-btn"]'),i=document.querySelector('[data-form="next-btn"]'),s=document.querySelector('[data-form="multi-submit-btn"]');if(!o.length)return;let c=document.querySelector(".progressbar-left"),p=document.getElementById("wf-form-email-form-v2"),d=document.getElementById("Hear"),m=0;function k(_="next"){let f=document.querySelector(".all-screens");f&&(f.style.overflow="hidden"),o.forEach((F,G)=>{F.classList.remove("step-hide","step-active","step-slide","step-enter-left","step-enter-right"),G===m?(F.classList.add("step-slide","step-active"),F.classList.add(_==="next"?"step-enter-right":"step-enter-left"),F.offsetWidth,F.classList.remove("step-enter-left","step-enter-right"),setTimeout(()=>{f&&(f.style.overflow="visible")},400)):F.classList.add("step-hide")});let x=m===0,b=m===o.length-1;c.style.display=x?"none":"flex",i.style.display=x||b?"none":"flex",a.style.display=x?"none":"flex",i.className=i.className.replace(/continue-\d+/g,""),i.classList.add(`continue-${m}`),I()}function I(){document.querySelectorAll(".progressbar__item-2").forEach((f,x)=>{f.classList.toggle("active-bar",x<=m)})}i==null||i.addEventListener("click",async function(){m<o.length-1&&C($(o[m]))&&(m++,k("next"))}),s==null||s.addEventListener("click",async function(){let _=await R();for(let f=0;f<o.length;f++)if($(o[f]).find("[field-validation]").filter(function(){return $(this).css("display")==="block"}).length>0){A(!1),m=f,k("back");break}_?(O=Y(),N[0].submit(),$(".last-button").hide()):A(!1)}),a==null||a.addEventListener("click",function(){m>0&&(m--,k("prev"))}),$(document).ready(function(){r(),k()})}fe()});})();
