"use strict";(()=>{var w="https://lever.ownerengineering.com/postings";window.location.pathname==="/careers"&&fetch(w).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(e=>{let t=e.data;console.log(e.data);var h=$(".careers-roles_team-list"),f=h.children("li").clone();h.empty();for(var n={},s=0;s<t.length;s++){var{team:l}=t[s].categories;n[l]||(n[l]=[]),n[l].push(t[s])}var p=Object.keys(n).sort();console.log(n);for(var d=0;d<p.length;d++){var l=p[d],r=n[l];r.sort(function(m,y){return m.text.localeCompare(y.text)});var i=f.clone();i.find("[data-team-name]").text(l);var c=i.find(".careers-roles_list"),g=c.find("li").clone();c.empty();for(var o=0;o<r.length;o++){var a=g.clone();a.find("a").attr("href","/careers/role?="+r[o].id),a.find("[data-title]").text(r[o].text),a.find("[data-category]").text(r[o].categories.team),a.find("[data-location]").text(r[o].categories.allLocations.join(", ")),c.append(a)}h.append(i)}$("[roles-counter]").text(t.length),h.css("opacity","1"),$(".careers-roles_list").css("opacity","1")}).catch(e=>console.error("Error fetching data:",e));window.location.pathname==="/careers/role"&&(v=window.location.search.split("=")[1],fetch(`${w}/${v}`).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(e=>{console.log(e.data.posting);let t=e.data.posting;if(t){let i=function(o){let a=$("<div>").html(o);return a.find("*").removeAttr("style"),a.html()};var h=i;console.log("Filtered Job:",t),document.title=t.text+" | owner.com";let f=$("[data-role-title]"),n=$("[data-role-location]"),s=$("[data-role-type]"),l=$("[data-role-link]"),p=$("[data-role-opening]"),d=$("[data-role-html]"),r=$("[data-role-additional]");f.text(t.text),n.text(t.categories.location);let c=[];t.categories.commitment&&c.push(t.categories.commitment),t.categories.team&&c.push(t.categories.team);let g=c.join(" / ");s.text(g),l.attr("href",t.urls.apply),p.html(i(t.content.descriptionHtml)),t.content.lists.forEach(o=>{let a=$("<div>"),x=$("<h3>").text(o.text),m=$("<ul>").html(o.content);a.append(x).append(m),d.append(a)}),r.html(i(t.content.closing)),$(".section_job-role").addClass("rendered")}}).catch(e=>console.error("Error fetching data:",e)));var v;})();
