"use strict";(()=>{document.addEventListener("DOMContentLoaded",()=>{let u=document.querySelector("#profit-margin-calculator");if(!u)return;document.querySelector(".blog-content_wrap-inner").insertAdjacentElement("afterbegin",u);let s=document.querySelectorAll("#profit-margin-calculator input");Array.from(s).forEach(e=>{e.addEventListener("input",o=>{p(o)})}),document.querySelector("#btn--calculate").addEventListener("click",e=>{if(e.preventDefault(),e.target.closest("form:invalid"))return;let a=parseFloat(document.querySelector("#total-revenue").value.replaceAll(",",""))||0,d=parseFloat(document.querySelector("#cogs").value.replaceAll(",",""))||0,m=parseFloat(document.querySelector("#operating-costs").value.replaceAll(",",""))||0,f=i((a-d)/a*100,2),l=i((a-m)/a*100,2);document.querySelector("#output--gross-profit").innerText=`${f}%`,document.querySelector("#output--net-profit").innerText=`${l}%`;let g=document.querySelector("#restaurant-type").value,t,r;switch(g){case"cafe":t=10,r=15;break;case"casual-dining":t=3,r=9;break;case"fast-casual":t=2,r=6;break;case"fast-food":t=2,r=6;break;case"fine-dining":t=10,r=15;break;case"pizzeria":t=15,r=15;break;default:t=1,r=15;break}let n="within",c="off-black";l<t?(n="lower than",c="red"):l>r&&(n="higher than",c="green");let y=`Your net profit margin is <strong style="color: var(--${c})">${n}</strong> the industry average of ${t}%-${r}%`;document.querySelector("#output--message").innerHTML=y,document.querySelector("#output--message").classList.remove("hide")}),document.querySelector("#btn--reset").addEventListener("click",e=>{e.preventDefault(),document.querySelector("#total-revenue").value="",document.querySelector("#cogs").value="",document.querySelector("#operating-costs").value="",document.querySelector("#output--gross-profit").innerText="0%",document.querySelector("#output--net-profit").innerText="0%",document.querySelector("#profit-margin-calculator").scrollIntoView({behavior:"smooth",block:"start"})});function p(e){e.target.value.includes("-")&&(e.target.value=e.target.value.replace("-",""));let o=e.target.value.replace(/[^0-9-.]/g,"");o=parseFloat(o).toLocaleString("en-US"),e.target.value=o.replace(" ",""),e.target.value==="NaN"&&(e.target.value="")}function i(e,o){let a=Math.pow(10,o);return Math.round(e*a)/a}tippy("[data-tippy-content]",{appendTo:"parent",arrow:!1})});})();
